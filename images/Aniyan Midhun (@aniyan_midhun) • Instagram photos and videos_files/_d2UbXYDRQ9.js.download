if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("PolarisDOMHelper",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){var a=document.getElementById("react-root");a||h(0,51486);return a}b=function(){var a=window.visualViewport;return a?a.scale:document.body?document.body.clientWidth/window.innerWidth:1};g.getRootElement=a;g.getDocumentScale=b}),98);
__d("PolarisIGCoreMoreHorizontalFilledIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){var h=d("react");function a(a){return h.jsxs(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("circle",{cx:"12",cy:"12",r:"2.75"}),h.jsx("circle",{cx:"19.5",cy:"12",r:"2.75"}),h.jsx("circle",{cx:"4.5",cy:"12",r:"2.75"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisMobileStoryCTA",["cx","fbt","PolarisUA","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.onOpenCta;return d("PolarisUA").isBrowser("Mobile Safari")?j.jsxs("div",{className:"_aa0q",onClick:a,role:"button",tabIndex:"0",children:[j.jsx("div",{className:"_aa0r",children:i._(/*FBT_CALL*/"See More"/*FBT_CALL*/)}),j.jsx("div",{className:"_9znl"})]}):j.jsxs("div",{className:"_aa0s",children:[j.jsx("div",{className:"_9znl _aa0t"}),j.jsx("div",{children:i._(/*FBT_CALL*/"See More"/*FBT_CALL*/)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisMobileStoriesFooter",["cx","fbt","PolarisDirectStrings","PolarisIGCoreBox","PolarisIGCoreMoreHorizontalFilledIcon","PolarisIGCoreSVGIconButton","PolarisLikeButton","PolarisLinkBuilder","PolarisLoggedOutIntentDialog","PolarisMobileStoryCTA","PolarisPageIdentifierConstants","PolarisShareHelpers","PolarisShareSheet","PolarisStoriesContext","PolarisStoryReplyComposer","PolarisStoryShareButton","PolarisStoryViewerButton","PolarisStoryViewerToast","PolarishasDirect","PolarisisUserLoggedIn","PolarispostSelectors","PolarisuseStoriesFooter","PolarisuseStoryLikes","PolarisuserSelectors","gkx","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useContext;function a(a){var b=a.className,e=a.onModalOpen;a=a.onStoryViewerListOpen;var f=c("PolarisuseStoriesFooter")(),g=f.canReply,h=f.canReshare,m=f.ctaUrl,n=f.currentPost,o=f.handleShareStory,p=f.isViewingOwnStory,q=f.mediaId,r=f.onOpenCta,s=f.reelId,t=f.setToastMessage,u=f.storyOwnerId;f=f.toastMessage;var v=l(d("PolarisStoriesContext").StoriesContext),w=v.isLoggedOutIntentDialogActive;v=v.isLoggedOutStoryShareSheetActive;h=h?j.jsx(c("PolarisStoryShareButton"),{currentPost:n,handleShareStory:o,reelId:s,referrer:"MobileStoriesFooter"}):null;n=j.jsx("div",{className:"_aafm",children:j.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:e,children:j.jsx(c("PolarisIGCoreMoreHorizontalFilledIcon"),{alt:i._(/*FBT_CALL*/"Menu"/*FBT_CALL*/),color:"web-always-white",size:24})})});o=q.split("_");var x=o[0];o[1];e=d("react-redux-wwwig").useSelector(function(a){return d("PolarispostSelectors").doesViewerLikePost(a,x)});o=d("PolarisuserSelectors").useUser(u);var y=c("PolarisuseStoryLikes")(x,o==null?void 0:o.username);o=(o==null?void 0:o.username)!=null?d("PolarisShareHelpers").getShareDescription(o.username,"highlight"):null;var z=s&&d("PolarisLinkBuilder").buildHighlightStoryLink(s),A=l(d("PolarisStoriesContext").StoriesContext),B=A.updateStoriesContext;A=k(function(){B({isLoggedOutStoryShareSheetActive:!1,isPaused:!1})},[B]);return j.jsxs("footer",{className:b,children:[j.jsxs("div",{className:"_aafn",children:[g?j.jsx(c("PolarisStoryReplyComposer"),{handleStoryLike:y,likedByViewer:e,mediaId:q,onSendMessage:function(){t(d("PolarisDirectStrings").SENT_TOAST_TEXT)},optionsElement:n,reelId:s,shareButton:h,storyOwnerId:u,supportsReelReactions:!p&&d("PolarishasDirect").hasDirect()}):j.jsxs(c("PolarisIGCoreBox"),{direction:"row",flex:"grow",justifyContent:"end",children:[!p&&c("gkx")("5703")&&j.jsxs("div",{className:"_aafo",children:[w&&j.jsx(c("PolarisLoggedOutIntentDialog"),{}),j.jsx(c("PolarisLikeButton"),{color:"ig-stroke-on-media",isLiked:e,onChange:y})]}),h,n,!d("PolarisisUserLoggedIn").isUserLoggedIn()&&v&&s!=null&&o!=null&&z!=null&&j.jsx(c("PolarisShareSheet"),{analyticsContext:c("PolarisPageIdentifierConstants").StoriesPage,description:o,entityID:s,entityType:"highlight",onClose:A,shareEnabled:!0,shareIds:null,url:z,utmSource:"ig_web_button_share_sheet"})]}),j.jsx(c("PolarisStoryViewerToast"),{message:f,onClose:function(){return t("")}})]}),j.jsx(c("PolarisStoryViewerButton"),{onStoryViewerListOpen:a}),Boolean(m)&&j.jsx(c("PolarisMobileStoryCTA"),{onOpenCta:r})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoriesHeaderOwner",["cx","PolarisConnectionsLogger","PolarisEligibleForCommissionUnit","PolarisFollowButtonContainer","PolarisHashtagLink","PolarisIGCoreBox","PolarisLocationAvatar","PolarisLocationLink","PolarisMiddleDot","PolarisSponsorsUnit","PolarisStoriesContext","PolarisStoriesStrings","PolarisStoryAppAttribution","PolarisTagAvatar","PolarisTimestamp","PolarisTransparencyLabel","PolarisTransparencyUtils","PolarisUA","PolarisUserAvatar","PolarisUserLink","Polarisunexpected","joinClasses","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(){var a=e.props,b=a.appAttribution,f=a.isAffiliate,g=a.isPaidPartnership,h=a.onUnfollowModalClose,j=a.onUnfollowModalOpen,k=a.postedAt,l=a.reel,m=a.sponsors;m=m===void 0?null:m;var n=a.trayEntrypoint,o=a.user;a=a.viewingOwnStory;var p=l.title,q=l.type;a=a?d("PolarisStoriesStrings").YOUR_STORY_TEXT:c("nullthrows")(o.username);q==="GraphHighlightReel"&&Boolean(p)&&(a=p);return i.jsxs("div",{className:"_aafv",children:[i.jsx(c("PolarisUserAvatar"),{className:"_aafw",profilePictureUrl:c("nullthrows")(o.profilePictureUrl),size:32,username:o.username}),i.jsxs(c("PolarisIGCoreBox"),{alignItems:"start",direction:"column",marginStart:2,children:[i.jsxs(c("PolarisIGCoreBox"),{alignItems:"start",direction:"row",children:[i.jsxs("div",{className:"_aafx",children:[i.jsx(c("PolarisUserLink"),{className:"_aafy",username:c("nullthrows")(o.username),children:a}),e.$2()&&i.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",justifyContent:"center",children:[i.jsx(c("PolarisMiddleDot"),{className:"_aafy _aafz"}),i.jsx(c("PolarisFollowButtonContainer"),{analyticsContext:d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.story,borderless:!0,clickPoint:n,hasDropdown:!1,isInline:!0,onUnfollowModalClose:h,onUnfollowModalOpen:j,primaryCTAColor:"ig-primary-button",secondaryCTAColor:"web-always-white",useFollowBack:!1,userId:o.id,username:o.username})]})]}),i.jsx(c("PolarisTimestamp"),{className:"_aaf-",isLong:!1,value:k})]}),d("PolarisTransparencyUtils").shouldShowTransparencyLabel(o)&&i.jsx(c("PolarisTransparencyLabel"),{className:c("joinClasses")("_aaf_","_aafy"),mediaId:l.id,screen:"stories",user:o}),g&&i.jsx(c("PolarisSponsorsUnit"),{className:"_aafy",color:"white",sponsors:m||[]}),!g&&f&&i.jsx(c("PolarisEligibleForCommissionUnit"),{className:"_aafy"}),b&&i.jsx(c("PolarisStoryAppAttribution"),{attribution:b})]})]})},e.$3=function(){var a=e.props,b=a.owner,f=a.postedAt,g=a.reel,h=a.user;a=a.viewingOwnStory;return i.jsxs("div",{className:"_aafv",children:[g.ownerType==="GraphHashTag"&&i.jsx(c("PolarisTagAvatar"),{profilePictureUrl:c("nullthrows")(b.profilePictureUrl),size:30,tagName:c("nullthrows")(g.tagName)}),g.ownerType==="GraphLocation"&&i.jsx(c("PolarisLocationAvatar"),{locationId:c("nullthrows")(g.locationId),profilePictureUrl:c("nullthrows")(b.profilePictureUrl),size:30}),i.jsxs(c("PolarisIGCoreBox"),{alignItems:"start",direction:"column",marginStart:2,children:[i.jsxs("div",{className:"_aafx",children:[g.ownerType==="GraphHashTag"&&i.jsx(c("PolarisHashtagLink"),{className:"_aag0 _aafy",tag:c("nullthrows")(g.tagName)}),g.ownerType==="GraphLocation"&&i.jsx(c("PolarisLocationLink"),{className:"_aag0 _aafy",location:b}),i.jsx(c("PolarisIGCoreBox"),{marginStart:2,children:i.jsx(c("PolarisTimestamp"),{className:"_aaf-",isLong:!1,value:f})})]}),i.jsx(c("PolarisUserLink"),{className:"_aag1 _aafy",username:c("nullthrows")(h.username),children:a?d("PolarisStoriesStrings").YOUR_STORY_TEXT:c("nullthrows")(h.username)})]})]})},e.$4=function(){return e.props.audience==="MediaAudience.BESTIES"},e.$2=function(){return!d("PolarisUA").isMobile()&&!e.context.isInitiallyFollowedByViewer&&!e.$4()&&!e.props.viewingOwnStory},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=this.props.reel;switch(a.ownerType){case"GraphUser":return this.$1();case"GraphLocation":case"GraphHashTag":return this.$3()}c("Polarisunexpected")("Owner type must be User or Hashtag");return null};return b}(i.Component);a.contextType=d("PolarisStoriesContext").StoriesContext;g["default"]=a}),98);
__d("PolarisMobileOwnerStoriesOverlay",["cx","PolarisCloseFriendsLabel","PolarisConnectionsLogger","PolarisExclusiveStoryLabel","PolarisFollowButtonContainer","PolarisIGCoreBox","PolarisIGCoreSVGIconButton","PolarisIGCoreXPanoOutlineIcon","PolarisMobileStoriesFooter","PolarisStoriesContext","PolarisStoriesHeaderOwner","PolarisStoriesStrings","PolarisStoryProgressBars","PolarisisUserLoggedIn","joinClasses","nullthrows","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(){return e.props.reel.userId===e.props.viewerId},e.$2=function(){var a=e.props.items[e.props.currentReelItemIndex];return a.audience==="MediaAudience.BESTIES"},e.$3=function(){var a=e.props.items[e.props.currentReelItemIndex];return a.audience==="MediaAudience.FAN_CLUB"},e.$4=function(){return d("PolarisisUserLoggedIn").isUserLoggedIn()&&!e.$2()&&!e.$3()&&!e.context.isInitiallyFollowedByViewer&&!e.$1()&&c("qex")._("124")!==!0},e.$5=function(){return e.$2()},e.$6=function(){return e.$3()},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=this,b=this.props,e=b.className,f=b.currentReelItemIndex,g=b.items,h=b.onClose,j=b.onModalOpen,k=b.onStoryViewerListOpen,l=b.onUnfollowModalClose,m=b.onUnfollowModalOpen,n=b.owner,o=b.percentage,p=b.reachedLoggedOutHighlightsLimit,q=b.reel,r=b.trayEntrypoint;b=b.user;var s=g[f],t=this.$1();return i.jsxs("div",{className:c("joinClasses")("_aafp",e),children:[i.jsxs("header",{className:"_aafq",children:[i.jsx(c("PolarisStoryProgressBars"),{animated:!0,count:g.length,currentIndex:f,percentage:o||0}),i.jsxs("div",{className:"_aafr",children:[i.jsx(c("PolarisStoriesHeaderOwner"),{appAttribution:s.storyAppAttribution,isAffiliate:s.isAffiliate===!0,isPaidPartnership:s.isPaidPartnership===!0,owner:n,postedAt:c("nullthrows")(s.postedAt),reel:q,sponsors:s.sponsors,trayEntrypoint:r,user:b,viewingOwnStory:t}),i.jsxs("div",{className:"_aafs",children:[this.$4()&&i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",justifyContent:"center",right:!0,children:i.jsx(c("PolarisFollowButtonContainer"),{analyticsContext:d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.story,borderless:!1,clickPoint:r,hasDropdown:!1,isInline:!0,onUnfollowModalClose:l,onUnfollowModalOpen:m,primaryCTAColor:"web-always-white",secondaryCTAColor:"web-always-white",useFollowBack:!1,userId:b.id,username:b.username})}),this.$5()&&i.jsx(c("PolarisCloseFriendsLabel"),{onClick:function(){a.context.updateStoriesContext({isCloseFriendsDialogActive:!0})},textSize:"large"}),this.$6()&&i.jsx(c("PolarisExclusiveStoryLabel"),{onClick:function(){a.context.updateStoriesContext({isExclusiveStoryDialogActive:!0})},textSize:"large"}),i.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:function(){return h()},children:i.jsx(c("PolarisIGCoreXPanoOutlineIcon"),{alt:d("PolarisStoriesStrings").ALT_TEXT_CLOSE_ICON,color:"web-always-white"})})]})]})]}),this.context.postIDThatShouldShowSensitiveContentOverlay==null&&!this.context.needsTapToStart&&p===!1&&i.jsx(c("PolarisMobileStoriesFooter"),{className:"_aaft",onModalOpen:j,onStoryViewerListOpen:k})]})};return b}(i.Component);a.contextType=d("PolarisStoriesContext").StoriesContext;g["default"]=a}),98);
__d("PolarisMobileStoryEventZone",["cx","PolarisStoriesContext","PolarisStoriesLoggingUtils","PolarisStoryActions","PolarisStoryTappableObjects","PolarisstorySelectors","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=200,k=50,l=100,m=500;b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=null,e.$2=null,e.$3=null,e.$4=null,e.$5=function(a){a.preventDefault()},e.$6=function(a){e.$2==null&&(e.$2=Date.now(),e.$3=a.touches[0].clientX,e.$4=a.touches[0].clientY),e.$7(a)},e.$8=function(a){a.touches.length===0&&e.$9(a),e.$10(a)},e.$10=function(a){if(e.$2!=null){var b=Date.now()-c("nullthrows")(e.$2),d=a.changedTouches[0].clientX-c("nullthrows")(e.$3);a=a.changedTouches[0].clientY-c("nullthrows")(e.$4);b<=m&&(Math.abs(a)>k&&Math.abs(d)<l?a<0?e.$11():e.props.onClose("swipe_down"):Math.abs(a)<l&&(d>k?e.props.onPrevReel():d<-k&&e.props.onNextReel("swipe_forward")));e.$2=null;e.$3=null;e.$4=null}},e.$7=function(a){e.props.onPause(),e.context.updateStoriesContext({isPaused:!0}),d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startTapPauseTimer(),e.$1==null&&(e.$1=Date.now())},e.$9=function(a){var b=e.$1;b!=null&&(e.props.onResume(),e.context.updateStoriesContext({isPaused:!1}),e.props.onStoriesMediaPause(d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData().tapPauseTime),Date.now()-b>=j&&(a.stopPropagation(),a.preventDefault()));e.$1=null},e.$11=function(){e.props.ctaUrl!=null&&e.props.onOpenCta(e.props.ctaUrl,"story_cta_swipeup")},e.$12=function(a){e.props.onResumeStorySession(),e.props.onPlay(a)},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=this.props,b=a.isFirstStory,d=a.onNext,e=a.onPrev,f=a.showVideoPlayButton,g=a.tappableStickersEligible;a=a.viewerDimensions;return i.jsxs("div",{className:"_aafd",style:a,children:[i.jsxs("div",{className:"_aafe",onContextMenu:this.$5,onTouchEnd:this.$8,onTouchStart:this.$6,role:"button",tabIndex:"0",children:[i.jsx("button",{className:"_aaff _aafg",onClick:b?null:e}),i.jsx("button",{className:"_aafh",onClick:b?null:e}),i.jsx("button",{className:"_aafi",onClick:function(){return d("tap_forward")}}),i.jsx("button",{className:"_aafj _aafg",onClick:function(){return d("tap_forward")}}),f&&i.jsx("div",{className:"_aafk",children:i.jsx("button",{className:"_aafl _9zwu",onClick:this.$12})})]}),g&&this.props.mediaLayout!=null&&i.jsx(c("PolarisStoryTappableObjects"),{isPlaying:this.props.isPlaying,mediaLayout:c("nullthrows")(this.props.mediaLayout)})]})};return b}(i.PureComponent);b.contextType=d("PolarisStoriesContext").StoriesContext;function a(a){var b=c("nullthrows")(d("PolarisstorySelectors").getCurrentPostId(a));a=c("nullthrows")(a.posts.byId.get(b));return{ctaUrl:a.storyCtaUrl,hasAudio:Boolean(a.hasAudio)}}e={onOpenCta:d("PolarisStoryActions").openCtaUrl,onResumeStorySession:d("PolarisStoryActions").resumeStorySession,onStoriesMediaPause:d("PolarisStoryActions").logStoriesMediaPause};f=d("react-redux-wwwig").connect(a,e)(b);g["default"]=f}),98);
__d("PolarisStoriesResumeOverlay",["cx","PolarisStoriesContext","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext;function a(a){var b=a.onResumeStorySession,c=j(d("PolarisStoriesContext").StoriesContext);return i.jsx("div",{className:"_aafu",onClick:function(){b(),c.updateStoriesContext({needsTapToStart:!1})},role:"button",tabIndex:"0"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisZeroStoryBanner",["cx","fbt","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=i._(/*FBT_CALL*/"Using Data"/*FBT_CALL*/);a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return j.jsx("div",{className:"_aa2l",children:j.jsxs("div",{className:"_aa2m",children:[j.jsx("span",{className:"_aa2n _9z-c"}),j.jsx("span",{className:"_aa2o",children:k})]})})};return b}(j.PureComponent);g["default"]=a}),98);
__d("PolarisMobileOwnerStories",["cx","PolarisCloseFriendsInfoDialog","PolarisConfig","PolarisDOMHelper","PolarisEventListener","PolarisExclusiveStoryInfoDialog","PolarisLogger","PolarisMobileOwnerStoriesOverlay","PolarisMobileStoryEventZone","PolarisNetworkInfo","PolarisStoriesContext","PolarisStoriesModal","PolarisStoriesResumeOverlay","PolarisStoryActions","PolarisStoryMedia","PolarisStoryMediaPrefetcher","PolarisStoryViewerList","PolarisZeroRatingUtils","PolarisZeroStoryBanner","PolarisstorySelectors","PolariswithDataSaver","joinClasses","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=function(a){return null};e=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.$1=null;b.$2=i.createRef();b.$3=function(a){var b=a.touches.length===1&&d("PolarisDOMHelper").getDocumentScale()===1;b&&a.preventDefault()};b.state={isUsingWifi:!1,isZeroBannerEligible:d("PolarisZeroRatingUtils").isZeroRatingSlimEligible()};return b}var e=b.prototype;e.$4=function(){this.$1&&(this.$1.remove(),this.$1=null)};e.componentDidMount=function(){var a=this;d("PolarisNetworkInfo").isWifi().then(function(b){a.setState({isUsingWifi:b})},function(b){a.setState({isUsingWifi:!1})});d("PolarisConfig").isIOS()&&this.$2.current!=null&&(this.$1=c("PolarisEventListener").add(this.$2.current,"touchmove",this.$3,{passive:!1}));this.context.updateStoriesContext({viewerHeight:this.props.viewportHeight,viewerWidth:this.props.viewportWidth})};e.componentDidUpdate=function(a){if(a.viewportHeight!==this.props.viewportHeight||a.viewportWidth!==this.props.viewportWidth){if(a.viewportWidth===this.props.viewportWidth&&a.orientation===this.props.orientation&&a.viewportHeight>this.props.viewportHeight&&this.context.isKeyboardActive)return;this.context.updateStoriesContext({viewerHeight:this.props.viewportHeight,viewerWidth:this.props.viewportWidth})}};e.componentWillUnmount=function(){this.$4()};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.canLoadMoreViewers,g=b.className,h=b.currentReelItemIndex,k=b.firstReelId,l=b.innerRef,m=b.isExpired,n=b.isInitialLoad,o=b.isLoadingStoryViewers,p=b.isModalActive,q=b.isResumeOverlayActive,r=b.isStoryViewerListActive,s=b.items,t=b.onClose,u=b.onLoadStoryViewers,v=b.onModalClose,w=b.onModalOpen,x=b.onNext,y=b.onNextReel,z=b.onPause,A=b.onPlay,B=b.onPostSeen,C=b.onPrev,D=b.onPrevReel,E=b.onResumeStorySession,F=b.onStoryViewerListClose,G=b.onStoryViewerListOpen,H=b.onUnfollowModalClose,I=b.onUnfollowModalOpen,J=b.onUpdatePlayPercentage,K=b.onUpdatePreplayPercentage,L=b.owner,M=b.percentage,N=b.preload,O=b.reachedLoggedOutHighlightsLimit,P=b.reel,Q=b.reelPositionInTray,R=b.trayEntrypoint,S=b.traySession,T=b.user,U=b.viewerId,V=b.onLoadStorySliderVoters;b=b.viewerSession;var W=s[h];k=P.id===k&&h===0;var X=P.userId===U,Y=null;this.state.isZeroBannerEligible&&(Y=i.jsx(c("PolarisZeroStoryBanner"),{}),d("PolarisLogger").logZeroEvent({event_name:"story_data_banner_impression"}));return i.jsxs("section",{className:c("joinClasses")(g,"_aa2h"),ref:l,children:[Y,i.jsx("div",{className:"_aa2i",ref:this.$2,style:{height:this.context.viewerHeight},children:i.jsx(d("PolarisStoryMedia").StoryMedia,{autoPlay:!1,eventZone:this.context.isKeyboardActive?j:c("PolarisMobileStoryEventZone"),isExpired:m,isFirstStory:k,isInitialLoad:n,onClose:t,onNext:x,onNextReel:y,onPause:z,onPlay:A,onPostSeen:B,onPrev:C,onPrevReel:D,onUpdatePlayPercentage:J,onUpdatePreplayPercentage:K,post:W,preload:N,reachedLoggedOutHighlightsLimit:O,reelId:P.id,trayEntrypoint:R})}),i.jsx(c("PolarisMobileOwnerStoriesOverlay"),{currentReelItemIndex:h,items:s,onClose:t,onModalOpen:w,onStoryViewerListOpen:G,onUnfollowModalClose:H,onUnfollowModalOpen:I,owner:L,percentage:M,reachedLoggedOutHighlightsLimit:O,reel:P,trayEntrypoint:R,user:T,viewerId:U}),q&&i.jsx(c("PolarisStoriesResumeOverlay"),{onResumeStorySession:E}),i.jsx(c("PolarisStoryMediaPrefetcher"),{prefetchContext:"stories"}),p&&i.jsx(c("PolarisStoriesModal"),{analyticsContext:e,currentPost:W,currentReelItemIndex:h,onClose:v,reel:P,reelPositionInTray:Q,traySession:S,viewerId:U,viewerSession:b,viewingOwnStory:X}),r&&X&&i.jsx(c("PolarisStoryViewerList"),{canLoadMoreViewers:f,currentPost:W,isLoading:o,onClose:F,onLoadStorySliderVoters:V,onLoadStoryViewers:u,storyViewers:W.storyViewers||[],traySessionId:S,viewerSessionId:b}),this.context.isCloseFriendsDialogActive&&i.jsx(c("PolarisCloseFriendsInfoDialog"),{onClose:function(){a.context.updateStoriesContext({isCloseFriendsDialogActive:!1})},postId:W.id,userId:c("nullthrows")(L.id)}),this.context.isExclusiveStoryDialogActive&&i.jsx(c("PolarisExclusiveStoryInfoDialog"),{onClose:function(){a.context.updateStoriesContext({isExclusiveStoryDialogActive:!1})},username:c("nullthrows")(T.username)})]})};return b}(i.Component);e.contextType=d("PolarisStoriesContext").StoriesContext;function a(a){return{isExpired:d("PolarisstorySelectors").isCurrentReelItemExpired(a),orientation:a.displayProperties.orientation,viewportHeight:a.displayProperties.viewportHeight,viewportWidth:a.displayProperties.viewportWidth,reachedLoggedOutHighlightsLimit:a.stories.reachedLoggedOutHighlightsLimit}}function b(a){return{onResumeStorySession:function(){a(d("PolarisStoryActions").resumeStorySession())}}}f=d("react-redux-wwwig").connect(a,b)(c("PolariswithDataSaver")(e));g["default"]=f}),98);
__d("PolarisOwnerStories",["PolarisIGBloksAsyncAppLauncher","PolarisMobileOwnerStories","PolarisStoriesContext","PolarisStoriesLoggingUtils","PolarisStoryPerformanceLogger","PolarisViewpointReact","PolarisVpvdImpressionAction","PolariswithRemountOnChange","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.state={isInitialLoad:!0,playPercentage:null,preplayPercentage:null},c.$2=!1,c.$3=function(a){c.setState({playPercentage:a})},c.$4=function(a){c.setState({preplayPercentage:a})},c.$5=function(){c.$2||(c.$1("navigate_prev"),c.$2=!0,c.props.onPrev())},c.$6=function(a){c.$2||(c.$1("navigate_next"),c.$2=!0,c.props.onNext(a))},c.$7=function(){var a=c.props.reel.id;c.state.isInitialLoad&&(d("PolarisStoryPerformanceLogger").StoryViewerPerformanceLogger.onLoadSuccess({reelId:a}),c.setState({isInitialLoad:!1}));d("PolarisStoryPerformanceLogger").StoryNavigationPerformanceLogger.onNavigationSuccess({reelId:a})},c.$8=function(){c.$1("pause")},c.$9=function(){c.$1("modal_open"),c.context.updateStoriesContext({isModalActive:!0})},c.$10=function(){c.context.updateStoriesContext({isModalActive:!1})},c.$11=function(){c.$1("viewer_list_open"),c.context.updateStoriesContext({isStoryViewerListActive:!0})},c.$12=function(){c.context.updateStoriesContext({isStoryViewerListActive:!1})},c.$13=function(){c.context.updateStoriesContext({isUnfollowModalActive:!1})},c.$14=function(){c.context.updateStoriesContext({isUnfollowModalActive:!0})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.state.isInitialLoad&&d("PolarisStoryPerformanceLogger").StoryViewerPerformanceLogger.onStoryViewerOpen({reelId:this.props.reel.id})};e.componentWillUnmount=function(){this.$1("exit_viewer")};e.$1=function(a){this.state.isInitialLoad&&(d("PolarisStoryPerformanceLogger").StoryViewerPerformanceLogger.onUserCancel({cancelReason:a,reelId:this.props.reel.id}),this.setState({isInitialLoad:!1}))};e.render=function(){var a=this,b=this.props.currentPost,e=this.state,f=e.playPercentage,g=e.preplayPercentage,j=this.context.isPaused;e=(e=(e=d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData())==null?void 0:e.containermodule)!=null?e:this.props.containerModule;return h.jsxs(h.Fragment,{children:[h.jsx(d("PolarisViewpointReact").Viewpoint,{action:d("PolarisVpvdImpressionAction").makeStoriesVpvdImpressionAction(this.props.reel,this.props.currentReelItemIndex,this.props.traySession,this.props.viewerSession,this.props.analyticsContext,e),id:this.props.reel.id+i(this.props),children:function(b){return h.jsx(c("PolarisMobileOwnerStories"),babelHelpers["extends"]({},a.props,{innerRef:b,isInitialLoad:a.state.isInitialLoad,isModalActive:a.context.isModalActive,isPaused:j,isResumeOverlayActive:a.context.isResumeOverlayActive,isStoryViewerListActive:a.context.isStoryViewerListActive,onModalClose:a.$10,onModalOpen:a.$9,onNext:a.$6,onPause:a.$8,onPlay:a.$7,onPrev:a.$5,onStoryViewerListClose:a.$12,onStoryViewerListOpen:a.$11,onUnfollowModalClose:a.$13,onUnfollowModalOpen:a.$14,onUpdatePlayPercentage:a.$3,onUpdatePreplayPercentage:a.$4,percentage:f!=null?f:g}))}}),this.context.shareClickCount>0&&((e=b.sharingFrictionInfo)==null?void 0:e.bloksAppUrl)!=null&&h.jsx(c("PolarisIGBloksAsyncAppLauncher"),{appId:b.sharingFrictionInfo.bloksAppUrl,onOpenShareSheetClick:function(){return a.context.updateStoriesContext({isPlaybackDisabled:!1,isStoryShareSheetActive:!0})},onResumeStoryPlayback:function(){a.context.updateStoriesContext({isPlaybackDisabled:!1})},params:{media_id:b.id,module:this.props.analyticsContext}},this.context.shareClickCount)]})};return b}(h.Component);b.contextType=d("PolarisStoriesContext").StoriesContext;function i(a){return a.items[a.currentReelItemIndex].id}function a(a,b){return i(a)!==i(b)}e=c("PolariswithRemountOnChange")(a)(b);g["default"]=e}),98);
__d("PolarisCSSTransition",["PolarisTransition","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return typeof a==="string"?{enter:a+"-enter",enterActive:a+"-enter-active",exit:a+"-exit",exitActive:a+"-exit-active"}:a}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.state=c.$1(),c.$4=function(){c.$5(d("PolarisTransition").TRANSITION_STATUS.ENTERING,c.props.onEntering)},c.$6=function(){c.$5(d("PolarisTransition").TRANSITION_STATUS.ENTERED,c.props.onEntered)},c.$7=function(){c.$5(d("PolarisTransition").TRANSITION_STATUS.EXITING,c.props.onExiting)},c.$8=function(){c.$5(d("PolarisTransition").TRANSITION_STATUS.EXITED,c.props.onExited)},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.componentDidMount=function(){this.props.appear&&this.$2()};c.componentDidUpdate=function(){this.$2()};c.componentWillUnmount=function(){this.timeoutID!=null&&window.clearTimeout(this.timeoutID)};c.$3=function(){var a=this.props.classNames;a=i(a);var b=this.state,c=b.active;b=b.status;var e=[];b===d("PolarisTransition").TRANSITION_STATUS.ENTERING?(a.enter!=null&&e.push(a.enter),c&&a.enterActive!=null&&e.push(a.enterActive)):b===d("PolarisTransition").TRANSITION_STATUS.EXITING&&(a.exit!=null&&e.push(a.exit),c&&a.exitActive!=null&&e.push(a.exitActive));return e};c.$1=function(){var a=this.props;a=a["in"]?a.appear?d("PolarisTransition").TRANSITION_STATUS.ENTERING:d("PolarisTransition").TRANSITION_STATUS.ENTERED:d("PolarisTransition").TRANSITION_STATUS.EXITED;return{active:!1,status:a}};c.$2=function(){var a=this;!this.state.active&&(this.state.status===d("PolarisTransition").TRANSITION_STATUS.ENTERING||this.state.status===d("PolarisTransition").TRANSITION_STATUS.EXITING)&&(this.timeoutID=window.setTimeout(function(){return a.setState({active:!0})}))};c.$5=function(a,b){this.setState({status:a,active:!1},b)};c.render=function(){var a=this.props,b=a.children;a.classNames;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","classNames"]);var c=this.$3();return b!=null?h.jsx(d("PolarisTransition").Transition,babelHelpers["extends"]({},a,{onEntered:this.$6,onEntering:this.$4,onExited:this.$8,onExiting:this.$7,children:b(c)})):null};return b}(h.Component);a.defaultProps=d("PolarisTransition").Transition.defaultProps;g["default"]=a}),98);
__d("PolarisTransitionUtils",["lodash-difference","lodash-memoize","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$1=[];this.$2=new Map();this.getTransitions=c("lodash-memoize")(function(){return b.$1.map(function(a){return c("nullthrows")(b.$2.get(a))})});a!=null&&(this.$1=[].concat(a.$1),this.$2=new Map(a.$2))}var b=a.prototype;b.$3=function(a){var b=this;a.forEach(function(a){b.$2.has(a)||b.$2.set(a,{appear:!1,"in":!0,key:a})})};b.$4=function(a){this.$2.set(a,babelHelpers["extends"]({},this.$2.get(a),{appear:!0,"in":!0}))};b.$5=function(a){this.$2.set(a,babelHelpers["extends"]({},this.$2.get(a),{"in":!1}))};b.$6=function(a){this.$3(a),this.$1=[].concat(a)};b.$7=function(a){var b=this;this.$3(a);var d=this.$1,e=new Set(c("lodash-difference")(a,d)),f=new Set(c("lodash-difference")(d,a));a=[].concat(a);if(f.size>0){d=d.reduce(function(b,c,a){return babelHelpers["extends"]({},b,(b={},b[c]=a,b))},{});var g=0;for(var h=f,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=h.length)break;k=h[j++]}else{j=h.next();if(j.done)break;k=j.value}k=k;var l=d[k];a.splice(l+g,0,k);g++}}e.forEach(function(a){return b.$4(a)});f.forEach(function(a){return b.$5(a)});this.$1=a};b.$8=function(a){this.$2["delete"](a),this.$1=this.$1.filter(function(b){return b!==a})};a.create=function(b){var c=new a();c.$6(b);return c};b.update=function(b){var c=new a(this);c.$7(b);return c};b["delete"]=function(b){var c=new a(this);c.$8(b);return c};return a}();g.TransitionManager=a}),98);
__d("PolarisTransitionGroup",["PolarisTransitionUtils","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=i(a,"string");return typeof a==="symbol"?a:String(a)}function i(a,b){if(typeof a!=="object"||a===null)return a;var c=a[typeof Symbol==="function"?Symbol.toPrimitive:"@@toPrimitive"];if(c!==void 0){c=c.call(a,b||"default");if(typeof c!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(a)}var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={transitions:Object.freeze({}),transitionManager:d("PolarisTransitionUtils").TransitionManager.create(e.props.children!=null?j.Children.map(e.props.children,function(a){return c("nullthrows")(a.key)}):[])},e.$1=function(a){var b=e.state.transitions,c=b[a];b=babelHelpers.objectWithoutPropertiesLoose(b,[a].map(h));e.setState({transitions:b,transitionManager:e.state.transitionManager["delete"](a)});c.props.onExited!=null&&c.props.onExited()},b)||babelHelpers.assertThisInitialized(e)}b.getDerivedStateFromProps=function(a,b){a=a.children!=null?a.children:[];var d=babelHelpers["extends"]({},b.transitions);j.Children.forEach(a,function(a){return d[c("nullthrows")(a.key)]=a});a=j.Children.map(a,function(a){return c("nullthrows")(a.key)});b=b.transitionManager.update(a);return{transitions:d,transitionManager:b}};var e=b.prototype;e.render=function(){var a=this,b=this.state.transitionManager.getTransitions();return b.map(function(b){var c=b.key;b=babelHelpers.objectWithoutPropertiesLoose(b,["key"]);var d=a.state.transitions[c];return j.cloneElement(d,babelHelpers["extends"]({},b,{onExited:function(){return a.$1(c)}}))})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisStoriesReel",["cx","PolarisCSSTransition","PolarisConfig","PolarisDOMListener","PolarisOwnerStories","PolarisStoriesContext","PolarisStoriesLoggingUtils","PolarisStoriesPageBugNub","PolarisStoryPerformanceLogger","PolarisStoryVideoLogger","PolarisStyleConstants","PolarisTransitionGroup","PolarisUA","PolarisgetPostFromGraphMediaInterface","PolarishasBugNub","PolarisstorySelectors","joinClasses","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={BACKWARD:-1,FORWARD:1},k={enter:"_aa0b",enterActive:"_aa0c",exit:"_aa0d",exitActive:"_aa0e"},l={enter:"_aa0f",enterActive:"_aa0g",exit:"_aa0h",exitActive:"_aa0i"};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={animationDirection:j.FORWARD},e.$2=function(){e.context.updateStoriesContext({isTransitioning:!0})},e.$3=function(){d("PolarisStoryPerformanceLogger").StoryNavigationPerformanceLogger.onTransitionFinish({reelId:e.props.reel.id}),e.context.updateStoriesContext({isTransitioning:!1})},e.$4=function(a,b){var f=e.props,g=f.currentReelItemIndex;f=f.items;f=f[g];g=f.isVideo;d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startNewMedia(!!g,d("PolarisstorySelectors").isStorySeen(f,e.props.reel),g===!0?c("nullthrows")(f.videoDuration):c("PolarisStyleConstants")["story-image-duration"].value);e.props.onPostSeen(a,b)},e.$5=function(a){d("PolarisStoryPerformanceLogger").StoryNavigationPerformanceLogger.onUserInterrupt({action:a,reelId:e.props.reel.id})},e.$6=function(){e.props.videoRef.current&&!e.props.videoRef.current.paused&&d("PolarisStoryVideoLogger").logVideoPausedEvent(e.props.videoRef.current,e.props.currentPost,e.props.loggerValuesRef.current,e.context.isMuted?0:1)},e.$7=function(a){e.$6(),e.$5("tap_exit"),e.props.onClose(a||"tap_exit")},e.$8=function(a){e.$5(a||"unknown"),e.$6(),e.setState({animationDirection:j.FORWARD},function(){e.props.onNext(a)})},e.$9=function(){e.$5("tap_back"),e.$6(),e.setState({animationDirection:j.BACKWARD},e.props.onPrev)},e.$10=function(a){e.$5(a||"unknown"),e.$6(),e.setState({animationDirection:j.FORWARD},function(){e.props.onNextReel(a)})},e.$11=function(){e.$5("swipe_back"),e.$6(),e.setState({animationDirection:j.BACKWARD},e.props.onPrevReel)},e.$12=function(){e.context.updateStoriesContext({isHidden:document.hidden})},e.$13=function(){e.context.updateStoriesContext({hasFocus:document.hasFocus()})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.$1=function(){var a=this.props.currentPost;return d("PolarisgetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPost(a)!=null};e.componentDidMount=function(){d("PolarisStoriesLoggingUtils").StoriesLoggingSession.start(this.props.trayEntrypoint,this.props.reelPositionInTray),d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startNewReel(this.props.reelPositionInTray,this.props.initialReelIndex),this.$1()&&this.context.updateStoriesContext({postIDThatShouldShowSensitiveContentOverlay:this.props.currentPost.id})};e.componentDidUpdate=function(a){a.reel.id!==this.props.reel.id&&d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startNewReel(this.props.reelPositionInTray,this.props.initialReelIndex),a.currentPost.id!==this.props.currentPost.id&&this.context.updateStoriesContext({postIDThatShouldShowSensitiveContentOverlay:this.$1()?this.props.currentPost.id:null}),this.props.trayEntrypoint==="story_viewer_list"&&this.context.updateStoriesContext({isInitiallyFollowedByViewer:this.props.followedByViewer})};e.componentWillUnmount=function(){d("PolarisStoriesLoggingUtils").StoriesLoggingSession.clear()};e.render=function(){var a=this;if(this.props.reel==null)return null;var b=this.state.animationDirection;b=b===j.FORWARD?k:l;var e=this.props;e.followedByViewer;e.initialReelIndex;e.isFromPreviousFullscreenSession;e.onPostSeen;var f=babelHelpers.objectWithoutPropertiesLoose(e,["followedByViewer","initialReelIndex","isFromPreviousFullscreenSession","onPostSeen"]);return i.jsxs("div",{className:(d("PolarisUA").isMobile()?"_aa0j":"")+(d("PolarisConfig").isIOS()?" _aa0k":"")+(d("PolarisUA").isDesktop()?" _aa0l":""),children:[i.jsx(c("PolarisDOMListener"),{event:"visibilitychange",handler:this.$12,target:document}),i.jsx(c("PolarisDOMListener"),{event:"focus",handler:this.$13,target:window}),i.jsx(c("PolarisDOMListener"),{event:"blur",handler:this.$13,target:window}),i.jsx("div",{className:(d("PolarisUA").isDesktop()?"_aa0m":"")+(d("PolarisUA").isMobile()?" _aa0n":""),children:i.jsx(c("PolarisTransitionGroup"),{children:i.jsx(c("PolarisCSSTransition"),{classNames:b,onEntered:this.$3,onExited:this.$2,timeout:c("PolarisStyleConstants")["story-swap-animation-duration"].value,children:function(b){b=c("joinClasses").apply(void 0,[(d("PolarisUA").isDesktop()?"_aa0o":"")+(d("PolarisUA").isMobile()?" _aa0p":"")].concat(b));return i.jsx(c("PolarisOwnerStories"),babelHelpers["extends"]({className:b},f,{onClose:a.$7,onNext:a.$8,onNextReel:a.$10,onPostSeen:a.$4,onPrev:a.$9,onPrevReel:a.$11,trayEntrypoint:a.props.trayEntrypoint}))}},this.props.reel.id)})}),d("PolarishasBugNub").hasBugNub()&&i.jsx(c("PolarisStoriesPageBugNub"),{})]})};return b}(i.PureComponent);a.contextType=d("PolarisStoriesContext").StoriesContext;g["default"]=a}),98);
__d("PolarisStoriesReelContainer",["PolarisRelationshipTypes","PolarisStoriesReel","PolarisStoryActions","PolarisrelationshipSelectors","PolarisstorySelectors","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a,b){var e=a.posts;b=a.stories;var f=c("nullthrows")(d("PolarisstorySelectors").getCurrentPostId(a)),g=b.currentTrayOrder,h=c("nullthrows")(b.reels.get(c("nullthrows")(b.currentReelId))),i=c("nullthrows")(d("PolarisstorySelectors").getCurrentPostAuthor(a)),j=g.indexOf(h.id),k=d("PolarisrelationshipSelectors").getRelationship(a.relationships,i.id),l=h.itemIds?c("nullthrows")(h.itemIds).map(function(a){return c("nullthrows")(e.byId.get(a))}).filter(function(a){return a!=null}):[],m=b.currentReelItemIndex;g=g[0];return babelHelpers["extends"]({},d("PolarisstorySelectors").getContainerModule(a),{canLoadMoreViewers:a.stories.isLoading||h.isLoading||d("PolarisstorySelectors").getStoryViewersPageInfoById(a,f).has_next_page,currentPost:c("nullthrows")(a.posts.byId.get(f)),currentReelItemIndex:m,firstReelId:g,followedByViewer:k.followedByViewer.state===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING,initialReelIndex:d("PolarisstorySelectors").getInitialReelIndex(a,h.id),isAppAttributionOpen:b.isAppAttributionOpen,isFromPreviousFullscreenSession:d("PolarisstorySelectors").isFromPreviousFullscreenSession(a),isLoadingStoryViewers:a.stories.isLoading||a.stories.isLoadingStoryViewers,items:l,owner:c("nullthrows")(d("PolarisstorySelectors").getCurrentReelOwner(a,h.id)),reel:h,reelPositionInTray:j,tappedObjectId:a.stories.tappedObjectId,trayEntrypoint:c("nullthrows")(d("PolarisstorySelectors").getTrayEntrypoint(a)),traySession:a.stories.traySession,user:i,viewerHeight:a.displayProperties.viewportHeight,viewerId:a.users.viewerId,viewerSession:a.stories.viewerSession})}function b(a){return{onClose:function(b){a(d("PolarisStoryActions").closeReels(b||"tap_exit"))},onLoadStoryViewers:function(b){a(d("PolarisStoryActions").loadStoryViewers({itemId:b}))},onLoadStorySliderVoters:function(b,c){a(d("PolarisStoryActions").loadStorySliderVoters({itemId:b,sliderId:c}))},onNext:function(b){a(d("PolarisStoryActions").nextReelItem(b||"tap_forward"))},onPrev:function(){a(d("PolarisStoryActions").prevReelItem("tap_back"))},onNextReel:function(b){a(d("PolarisStoryActions").nextReel(b||"swipe_forward"))},onPrevReel:function(){a(d("PolarisStoryActions").prevReel("swipe_back"))},onPostSeen:function(b,c){a(d("PolarisStoryActions").updateReelSeen(b,c))}}}e=d("react-redux-wwwig").connect(a,b)(c("PolarisStoriesReel"));g["default"]=e}),98);
__d("PolarisMobileStoriesPage",["cx","fbt","PolarisAsyncEntityQRModal","PolarisConfig","PolarisFullscreenShell","PolarisIGCoreSpinner","PolarisPageIdentifierConstants","PolarisPageMetadata","PolarisStoriesProvider","PolarisStoriesReelContainer","PolarisStoryActions","PolarisStoryVideoContext","PolarisstorySelectors","PolarisuseDisplayProperties","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useEffect,l=b.useState,m=i._(/*FBT_CALL*/"Stories"/*FBT_CALL*/);function a(a){var b=a.highlightReelId,e=a.initializing,f=a.needsTapToStart,g=a.showQRModal;a=a.viewerIsLoggedIn;g=l(g);var h=g[0],i=g[1];g=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentReel);var n=d("react-redux-wwwig").useDispatch(),o=d("react-redux-wwwig").useSelector(function(a){return a.displayProperties.orientation}),p=d("react-redux-wwwig").useSelector(function(a){return a.stories.isLoading});p=p===!0||e===!0;e=c("PolarisuseDisplayProperties")();e=e.viewportHeight;k(function(){return function(){n(d("PolarisStoryActions").navigateFromStory())}},[n]);return j.jsxs(c("PolarisFullscreenShell"),{className:"_aa2j"+(d("PolarisConfig").isIOS()?" _aa2k":""),deviceOrientation:o,style:{height:e},children:[j.jsx(c("PolarisPageMetadata"),{id:c("PolarisPageIdentifierConstants").StoriesPage,title:m}),p!==!0?j.jsxs(j.Fragment,{children:[j.jsx(d("PolarisStoriesProvider").StoriesContextProvider,{initialState:{needsTapToStart:f,viewerIsLoggedIn:a},children:j.jsx(d("PolarisStoryVideoContext").StoryVideoContextProvider,{children:j.jsx(d("PolarisStoryVideoContext").StoryVideoContext.Consumer,{children:function(a){var b=a.loggerValuesRef;a=a.ref;return j.jsx(c("PolarisStoriesReelContainer"),{analyticsContext:c("PolarisPageIdentifierConstants").StoriesPage,loggerValuesRef:b,videoRef:a})}})})}),h&&j.jsx(c("PolarisAsyncEntityQRModal"),{entityID:(o=b==null?void 0:b.toString())!=null?o:g==null?void 0:(e=g.itemIds)==null?void 0:e[0],onClose:function(){return i(!1)},source:"DIRECT_NAVIGATION"})]}):j.jsx(c("PolarisIGCoreSpinner"),{color:"light",position:"absolute",size:"medium"})]})}a.displayName=a.name+" [from "+f.id+"]";g.PAGE_ID=c("PolarisPageIdentifierConstants").StoriesPage;g.MobileStoriesPage=a}),98);
__d("PolarisRegInterstitialRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisRegInterstitialRoot.react").__setRef("PolarisRegInterstitialRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisPushPreferencesRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisPushPreferencesRoot.react").__setRef("PolarisPushPreferencesRoot.entrypoint")};g["default"]=a}),98);