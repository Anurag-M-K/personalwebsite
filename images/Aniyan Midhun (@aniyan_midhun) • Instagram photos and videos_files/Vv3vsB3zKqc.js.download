if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("PolarisLoggedOutAppUpsellCard",["PolarisIGCoreBox","PolarisIgLiteCarbonUpsellsUtils","PolarisLoggedOutAppUpsellInnerContent","PolarisLoggedOutContextualLoginText","PolarisLoggedOutCtaLogger","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.intentSource==="view_highlight"?"highlight_upsell":"story_interstitial",e=d("react-redux-wwwig").useSelector(function(a){return a.navigation.loggedOutIntentUsername}),f=d("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible(),g=f?"instagramlitecarbon":"app_upsell";i(function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:b,ctaVersion:g,eventName:"impression"})},[g,b]);return h.jsxs(c("PolarisIGCoreBox"),{justifyContent:"center",margin:"auto",children:[h.jsx(c("PolarisLoggedOutContextualLoginText"),{intentSource:a.intentSource,triggeringPageType:a.triggeringPageType,username:e}),h.jsx(c("PolarisIGCoreBox"),{margin:5,children:h.jsx(c("PolarisIGCoreBox"),{color:"web-always-white",flex:"shrink",shape:"extra-rounded",width:a.intentSource==="view_highlight"?300:260,children:h.jsx(c("PolarisLoggedOutAppUpsellInnerContent"),{ctaType:b,ctaVersion:g,intentSource:a.intentSource,triggeringPageType:a.triggeringPageType,triggeringUserPicUrl:a.triggeringUserPicUrl,triggeringUserUsername:a.triggeringUserUsername})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryConstants",["PolarisStyleConstants"],(function(a,b,c,d,e,f,g){"use strict";a=c("PolarisStyleConstants")["story-progressbar-update-tick"].value*1e3;g.STORY_UPDATE_TICK_S=c("PolarisStyleConstants")["story-progressbar-update-tick"].value;g.STORY_UPDATE_TICK_MS=a}),98);
__d("PolarisStoryVideoLogger",["PolarisVideoLogger","PolarisisUserLoggedIn","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a=[a,b,"reel_feed_timeline"];d("PolarisisUserLoggedIn").isUserLoggedIn()&&d("PolarisVideoLogger").logVideoEvent.apply(void 0,a)}function i(a,b,c){var d=b.id,e=b.owner;b=b.trackingToken;a=(a=a==null?void 0:a.videoWidth)!=null?a:null;d=babelHelpers["extends"]({id:d||"",ownerId:e&&e.id||"",trackingToken:b},c);a!=null&&a!==0&&(d.video_width=a);return d}function a(a,b,c,e){c={time:d("PolarisVideoLogger").normalizeVideoEvent(a&&a.currentTime),lsp:d("PolarisVideoLogger").normalizeVideoEvent(c.lastStartPosition),duration:d("PolarisVideoLogger").normalizeVideoEvent(a&&a.duration),loop_count:0,playing_audio:e};h("video_paused",i(a,b,c))}function b(a,b,e,f){var g=c("nullthrows")(a);h("video_should_start",i(a,b,{reason:f,time:d("PolarisVideoLogger").normalizeVideoEvent(g.currentTime),loop_count:0}));e.lastShouldStartTime=Date.now();e.initialShouldStarted=!1}function e(a,b,c){if(!c.initialShouldStarted){c={time:d("PolarisVideoLogger").normalizeVideoEvent(a&&a.currentTime),lsp:d("PolarisVideoLogger").normalizeVideoEvent(c.lastStartPosition),duration:d("PolarisVideoLogger").normalizeVideoEvent(a&&a.duration),loop_count:0,playing_audio:1};h("video_exited",i(a,b,c))}}function f(a,b){var e=c("nullthrows")(a);h("video_audio_enabled",i(a,b,{time:d("PolarisVideoLogger").normalizeVideoEvent(e.currentTime),loop_count:0}))}g.logVideoEventWrapper=h;g.getLoggingExtra=i;g.logVideoPausedEvent=a;g.logShouldStartEvent=b;g.logVideoExitedEvent=e;g.logVideoAudioEnabledEvent=f}),98);
__d("PolarisuseStoriesFooter",["PolarisDirectActions","PolarisDirectStrings","PolarisStoryActions","PolarishasDirect","PolarisstorySelectors","PolarisuseMQTT","Promise","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useState;function a(){var a=i(""),e=a[0],f=a[1],g=d("react-redux-wwwig").useDispatch(),j=c("PolarisuseMQTT")();a=d("react-redux-wwwig").useSelector(function(a){return d("PolarisstorySelectors").getCurrentPost(a)});var k=c("nullthrows")(a==null?void 0:a.owner).id,l=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentReelId}),m=d("react-redux-wwwig").useSelector(function(a){return a.stories.reels.get(l)}),n=d("react-redux-wwwig").useSelector(function(a){return a.users.viewerId}),o=a==null?void 0:a.storyCtaUrl;n=k===n;var p=(m==null?void 0:m.canReshare)===!0&&!n&&d("PolarishasDirect").hasDirect()&&(a==null?void 0:a.audience)!=="MediaAudience.BESTIES";m=!!(m==null?void 0:m.canReply)&&!n&&o==null&&d("PolarishasDirect").hasDirect();var q="";a&&k&&(q=a.id+"_"+k);var r=h(function(){o!=null&&g(d("PolarisStoryActions").openCtaUrl(o,"story_cta_tap"))},[g,o]),s=h(function(a,c){c!=null&&c!==""?b("Promise").resolve(g(d("PolarisDirectActions").shareStory(j,a,l,q,c))).then(f(d("PolarisDirectStrings").SENT_TOAST_TEXT)):b("Promise").resolve(g(d("PolarisDirectActions").shareStory(j,a,l,q))).then(f(d("PolarisDirectStrings").SENT_TOAST_TEXT))},[g,q,l,j]),t=h(function(a,b){s(a,b)},[s]);return{ctaUrl:o,toastMessage:e,handleShareStory:t,setToastMessage:f,canReply:m,canReshare:p,onOpenCta:r,currentPost:a,isViewingOwnStory:n,mediaId:q,reelId:l,storyOwnerId:k}}g["default"]=a}),98);
__d("PolarisuseStoriesProviderDisableNewPlayback",["PolarisConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b,c,e){var f=a.hasFocus,g=a.isBugNubActive,i=a.isCloseFriendsDialogActive,j=a.isExclusiveStoryDialogActive,k=a.isHidden,l=a.isKeyboardActive,m=a.isModalActive,n=a.isPaused,o=a.isStoryShareSheetActive,p=a.isStoryViewerListActive,q=a.isTransitioning,r=a.isUnfollowModalActive;h(function(){var a=g||j||i||l||m||n||o||p||q||r||k||d("PolarisConfig").isIOS()&&!f||b!=null||c;e({isPlaybackDisabled:a})},[f,g,i,j,k,l,m,n,o,p,q,r,c,e,b])}g["default"]=a}),98);
__d("PolarisuseStoryLikes",["PolarisNavigationActions","PolarisStoriesContext","PolarisStoryActions","PolarisisUserLoggedIn","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext;function a(a,b){var c=d("react-redux-wwwig").useDispatch(),e=i(d("PolarisStoriesContext").StoriesContext),f=e.updateStoriesContext;e=h(function(a){c(d("PolarisNavigationActions").openLoggedOutIntentDialog("story_feedback_like",b)),f({isLoggedOutIntentDialogActive:!0,isPaused:!0})},[c,b,f]);var g=h(function(b){b?c(d("PolarisStoryActions").sendStoryLikeAction(a)):c(d("PolarisStoryActions").unsendStoryLikeAction(a))},[c,a]);return d("PolarisisUserLoggedIn").isUserLoggedIn()?g:e}g["default"]=a}),98);
__d("PolarisCloseFriendsInfoDialog",["cx","fbt","IGCoreDialog","PolarisAssetManagerGlyphMapping","PolarisGenericStrings","PolarisIGCoreAvatar","PolarisIGCoreBox","PolarisIGCoreConstants","PolarisIGCoreIcon","PolarisStoriesStrings","PolarispostSelectors","PolarisuserSelectors","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=function(a){var b=j.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",justifyContent:"center",children:[j.jsx(c("PolarisIGCoreBox"),{height:c("PolarisIGCoreConstants").AVATAR_SIZES.medium,children:j.jsx(c("PolarisIGCoreAvatar"),{alt:i._(/*FBT_CALL*/"{username}'s profile picture"/*FBT_CALL*/,[i._param("username",a.username)]),size:"medium",src:a.profilePicUrl})}),j.jsx("div",{className:"_abeg",children:j.jsx(c("PolarisIGCoreIcon"),{alt:d("PolarisStoriesStrings").CLOSE_FRIENDS,icon:d("PolarisAssetManagerGlyphMapping").ICONS.GLYPH_CIRCLE_STAR})})]});return j.jsx(d("IGCoreDialog").IGCoreDialog,{body:a.isVideo?d("PolarisStoriesStrings").CLOSE_FRIENDS_INFO_VIDEO(a.username):d("PolarisStoriesStrings").CLOSE_FRIENDS_INFO_PHOTO(a.username),media:b,onModalClose:a.onClose,title:d("PolarisStoriesStrings").CLOSE_FRIENDS_ONLY,children:j.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a.onClose,children:d("PolarisGenericStrings").CLOSE_TEXT})})};function a(a,b){var e=d("PolarisuserSelectors").getUserById(a,b.userId);a=d("PolarispostSelectors").getPostById(a,b.postId);return{isVideo:a.isVideo||!1,username:c("nullthrows")(e.username),profilePicUrl:c("nullthrows")(e.profilePictureUrl)}}e=d("react-redux-wwwig").connect(a)(b);g["default"]=e}),98);
__d("PolarisCloseFriendsLabel",["cx","PolarisBrandRefreshQEHelpers","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreText","PolarisStoriesStrings","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){var b=a.textSize==="small"?i.jsx(c("PolarisIGCoreText").FootnoteEmphasized,{color:"web-always-white",children:d("PolarisStoriesStrings").CLOSE_FRIENDS}):i.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:"web-always-white",children:d("PolarisStoriesStrings").CLOSE_FRIENDS}),e=d("PolarisBrandRefreshQEHelpers").hasRefreshedStoryRings();return i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:a.onClick,children:i.jsx("div",{className:"_abwp"+(e?"":" _abwq")+(e?" _abwr":""),children:i.jsx(c("PolarisIGCoreBox"),{height:"100%",paddingX:2,paddingY:2,width:"100%",children:b})})})};b=a;g["default"]=b}),98);
__d("PolarisExclusiveStoryInfoDialog",["cx","fbt","ix","IGCoreDialog","IGCoreImage","PolarisGenericStrings","PolarisIGCoreBox","PolarisStoriesStrings","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");a=function(a){var b=k.jsx(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",justifyContent:"center",children:k.jsx("div",{className:"_ac4c",children:k.jsx(c("IGCoreImage"),{alt:i._(/*FBT_CALL*/"Subscriber crown badge"/*FBT_CALL*/),src:{light:j("170653")}})})});return k.jsx(d("IGCoreDialog").IGCoreDialog,{body:d("PolarisStoriesStrings").EXCLUSIVE_STORY_INFO(a.username),media:b,onModalClose:a.onClose,title:d("PolarisStoriesStrings").EXCLUSIVE_STORY_ONLY,children:k.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:a.onClose,children:d("PolarisGenericStrings").DONE_TEXT})})};b=a;g["default"]=b}),98);
__d("PolarisExclusiveStoryLabel",["cx","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreText","PolarisStoriesStrings","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){var b=a.textSize==="small"?i.jsx(c("PolarisIGCoreText").FootnoteEmphasized,{color:"web-always-white",children:d("PolarisStoriesStrings").EXCLUSIVE_STORY}):i.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:"web-always-white",children:d("PolarisStoriesStrings").EXCLUSIVE_STORY});return i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:a.onClick,children:i.jsx("div",{className:"_ac3m",children:i.jsx(c("PolarisIGCoreBox"),{height:"100%",paddingX:2,paddingY:2,width:"100%",children:b})})})};b=a;g["default"]=b}),98);
__d("PolarisLoggedOutStoryUpsell",["CometImage.react","PolarisIGCoreBox","PolarisLoggedOutAppUpsellCard","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b;return h.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"column",justifyContent:"center",width:"100%",children:[h.jsx(c("CometImage.react"),{height:(b=a.post.dimensions)==null?void 0:b.height,src:"/images/instagram/xig/stories/mobile-login-background.png",width:(b=a.post.dimensions)==null?void 0:b.width}),h.jsx(a.eventZone,{isFirstStory:a.isFirstStory,isPlaying:!0,isVideo:!1,onClose:a.onClose,onNext:function(){},onNextReel:function(){},onPause:function(){},onPlay:function(){},onPrev:function(){},onPrevReel:function(){},onResume:function(){},showVideoPlayButton:!1,tappableStickersEligible:!1}),h.jsx(c("PolarisIGCoreBox"),{bottom:!1,direction:"column",flex:"shrink",left:!1,position:"absolute",right:!1,top:!1,children:h.jsx(c("PolarisLoggedOutAppUpsellCard"),{intentSource:"view_highlight",triggeringPageType:"highlight",triggeringUserPicUrl:(b=a.post.owner)==null?void 0:b.profilePictureUrl})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisOptionsModal",["fbt","IGCoreDialog","IGRouter","PolarisGenericStrings","PolarisLinkBuilder","PolarisPostStrings","PolarisStoriesContext","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext;function a(a){var b=function(){a.history.push(d("PolarisLinkBuilder").buildMediaLink(a.code))},c=k(d("PolarisStoriesContext").StoriesContext),e=c.updateStoriesContext;c=j(function(){e({isLoggedOutStoryShareSheetActive:!0,isPaused:!0,isModalActive:!1})},[e]);return i.jsxs(d("IGCoreDialog").IGCoreDialog,{onModalClose:a.onClose,children:[a.hasGoToOption===!0&&i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:b,children:h._(/*FBT_CALL*/"Go to post"/*FBT_CALL*/)}),a.hasDeleteOption===!0&&i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:a.onDeleteClick,children:h._(/*FBT_CALL*/"Delete"/*FBT_CALL*/)}),a.hasReportInappropriateOption===!0&&i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a.onReportInappropriateClick,children:d("PolarisPostStrings").REPORT_INAPPROPRIATE_TEXT}),a.hasAboutThisAccountOption===!0&&i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a.onAboutThisAccountClick,children:h._(/*FBT_CALL*/"About this account"/*FBT_CALL*/)}),a.hasCopyHighlightLinkAndShareToOptions===!0&&i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:c,children:h._(/*FBT_CALL*/"Share to..."/*FBT_CALL*/)}),a.hasEmbedOption===!0&&i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a.onEmbedCodeClick,children:h._(/*FBT_CALL*/"Embed"/*FBT_CALL*/)}),a.hasPhotosOfYouOption===!0&&i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a.onPhotosOfYouClick,children:h._(/*FBT_CALL*/"Post Options"/*FBT_CALL*/)}),a.hasShareOption===!0&&i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a.onShareClick,children:h._(/*FBT_CALL*/"Share"/*FBT_CALL*/)}),a.hasCopyLinkOption===!0&&i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a.onCopyLinkClick,children:h._(/*FBT_CALL*/"Copy link"/*FBT_CALL*/)}),a.hasCopyHighlightLinkAndShareToOptions===!0&&i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a.onCopyHighlightLinkClick,children:h._(/*FBT_CALL*/"Copy highlight link"/*FBT_CALL*/)}),a.hasRemoveCommentsOption===!0&&i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a.onRemoveCommentsClick,children:a.showRemoveCommentIcons!==!0?h._(/*FBT_CALL*/"Remove comments"/*FBT_CALL*/):h._(/*FBT_CALL*/"Finish removing comments"/*FBT_CALL*/)}),a.hasUnfollowOption===!0&&i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a.onUnfollowClick,children:h._(/*FBT_CALL*/"Unfollow"/*FBT_CALL*/)}),a.hasViewInsightsOption===!0&&i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a.onViewInsightsClick,children:h._(/*FBT_CALL*/"View insights"/*FBT_CALL*/)}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a.onClose,children:d("PolarisGenericStrings").CANCEL_TEXT})]})}a.displayName=a.name+" [from "+f.id+"]";c=d("IGRouter").withIGRouter(a);g["default"]=c}),98);
__d("PolarisStoriesModal",["fbt","AboutThisAccountRefererTypes","PolarisAboutThisAccountModal","PolarisAboutThisAccountUtils","PolarisClipboard","PolarisConfirmDialog","PolarisFRXReportModal","PolarisIGBloksAsyncAppLauncher","PolarisInsightsUtils","PolarisLinkBuilder","PolarisOptionsModal","PolarisPostActions","PolarisPostFastOptionCopyLink","PolarisReportConstants","PolarisStoriesContext","PolarisToastActions","PolarisisUserLoggedIn","PolarisstorySelectors","PolarisuserSelectors","URI","nullthrows","qex","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return function(){return{modalType:a}}}e=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this,b)||this;e.$1=function(){var a=new(c("URI"))("https://www.instagram.com"+d("PolarisLinkBuilder").buildHighlightStoryLink(e.props.reel.id)).addQueryData("utm_source","ig_web_options_menu");d("PolarisClipboard").copy(a.toString())&&(e.props.onLinkCopied(),e.props.onClose())};e.$2=function(){e.props.onDeletePost(e.props.currentPost.id)};e.$3=function(){e.setState(j("delete"))};e.$4=function(){e.setState(j("report"))};e.$5=function(){e.setState(j("view_insights"))};e.$6=function(){e.setState(j("about_this_account"))};e.state={modalType:"options"};return e}var e=b.prototype;e.render=function(){var a=this.props,b=a.analyticsContext,e=a.currentPost,f=a.onClose,g=a.viewer;a=a.viewingOwnStory;g=d("PolarisInsightsUtils").getViewInsightsInfo(g,e.owner,e,!!e.canSeeInsightsAsBrand,!!(g==null?void 0:g.canSeeOrganicInsights));g=g.hasViewInsights;var j=!1;e.owner&&(j=d("PolarisAboutThisAccountUtils").getUserIsEligibleToViewAccountTransparency(e.owner));var k=!d("PolarisisUserLoggedIn").isUserLoggedIn()&&c("qex")._("70")===!0;switch(this.state.modalType){case"options":return i.jsx(c("PolarisOptionsModal"),{analyticsContext:b,code:e.code!=null&&e.code!==""?e.code:"",hasAboutThisAccountOption:j,hasCopyHighlightLinkAndShareToOptions:k,hasDeleteOption:a,hasEmbedOption:!1,hasGoToOption:!1,hasReportInappropriateOption:!a,hasShareOption:!1,hasViewInsightsOption:g,id:e.id,onAboutThisAccountClick:this.$6,onClose:f,onCopyHighlightLinkClick:this.$1,onDeleteClick:this.$3,onReportInappropriateClick:this.$4,onViewInsightsClick:this.$5,postType:e.isVideo===!0?"video":"photo"});case"report":b=c("nullthrows")(e.owner);j=e.id;return i.jsx(c("PolarisFRXReportModal"),{frxLocation:d("PolarisReportConstants").FRXLocation.STORY,frxObjectType:d("PolarisReportConstants").FRXObjectType.MEDIA,onClose:f,reportedObjectID:j,reportedOwner:{id:b.id,username:b.username,profilePicURL:b.profilePictureUrl}});case"delete":return e.isVideo===!0?i.jsx(c("PolarisConfirmDialog"),{body:h._(/*FBT_CALL*/"Are you sure you want to delete this video from your story?"/*FBT_CALL*/),confirmLabel:h._(/*FBT_CALL*/"Delete"/*FBT_CALL*/),onClose:f,onConfirm:this.$2,title:h._(/*FBT_CALL*/"Delete Story?"/*FBT_CALL*/)}):i.jsx(c("PolarisConfirmDialog"),{body:h._(/*FBT_CALL*/"Are you sure you want to delete this photo from your story?"/*FBT_CALL*/),confirmLabel:h._(/*FBT_CALL*/"Delete"/*FBT_CALL*/),onClose:f,onConfirm:this.$2,title:h._(/*FBT_CALL*/"Delete Story?"/*FBT_CALL*/)});case"view_insights":return i.jsx(c("PolarisIGBloksAsyncAppLauncher"),{appId:"com.instagram.insights.media.stories.bottom_sheet.action",onResumeStoryPlayback:f,params:{media_id:e.id}});case"about_this_account":return i.jsx(c("PolarisAboutThisAccountModal"),{onClose:f,referer_type:c("AboutThisAccountRefererTypes").STORY,user:c("nullthrows")(e.owner)});default:return null}};return b}(i.Component);e.contextType=d("PolarisStoriesContext").StoriesContext;function a(a){return babelHelpers["extends"]({},d("PolarisstorySelectors").getContainerModule(a),{viewer:d("PolarisuserSelectors").getViewer(a)})}function b(a){return{onDeletePost:function(b){return a(d("PolarisPostActions").deletePost(b))},onLinkCopied:function(){return a(d("PolarisToastActions").showToast({text:d("PolarisPostFastOptionCopyLink").LINK_COPIED_PROMPT}))}}}f=d("react-redux-wwwig").connect(a,b)(e);g["default"]=f}),98);
__d("PolarisAsyncStoriesDebugInfoNub",["JSResourceForInteraction","PolarisAsyncComponent","react","xigRequireInterop"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=d("PolarisAsyncComponent").createAsyncComponent({displayName:"StoriesDebugInfoNub",resolve:function(){return c("JSResourceForInteraction")("PolarisStoriesDebugInfoNub").__setRef("PolarisAsyncStoriesDebugInfoNub").load().then(function(a){return c("xigRequireInterop")(a)})}});g.AsyncStoriesDebugInfoNub=a}),98);
__d("PolarisAsyncStoriesDebugInfoNubContainer",["PolarisAsyncStoriesDebugInfoNub","PolarismixedSelectors","PolarisuserSelectors","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){return{viewer:d("PolarisuserSelectors").getViewer(a),realtimeState:a.direct.realtimeState,additionalData:d("PolarismixedSelectors").debugInfoNubAdditionalDataSelector(a)}}b=d("react-redux-wwwig").connect(a)(d("PolarisAsyncStoriesDebugInfoNub").AsyncStoriesDebugInfoNub);g["default"]=b}),98);
__d("useWWWIGStoriesLogging",["PolarisstorySelectors","logXIGPageView","react","react-redux-wwwig","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(){var a=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostId),b=c("useCometRouterState")(),e=i(null);h(function(){b!=null&&a!=null&&(e==null?void 0:e.current)!=null&&e.current!==a&&c("logXIGPageView")(b),e.current=a},[a,b])}g["default"]=a}),98);
__d("PolarisStoriesProvider",["PolarisRelationshipTypes","PolarisStoriesContext","PolarisrelationshipSelectors","PolarisstorySelectors","PolarisuseStoriesProviderDisableNewPlayback","nullthrows","react","react-redux-wwwig","useWWWIGStoriesLogging"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useContext,k=e.useEffect,l=e.useMemo,m=e.useState;function a(){return j(d("PolarisStoriesContext").StoriesContext)}function b(a){var b=a.children,e=a.initialState,f=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostAuthor));a=d("react-redux-wwwig").useSelector(function(a){return d("PolarisrelationshipSelectors").getRelationship(a.relationships,f.id)});var g=a.followedByViewer.state===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING,j=d("react-redux-wwwig").useSelector(function(a){return a.displayProperties.viewportHeight});a=l(function(){return babelHelpers["extends"]({},d("PolarisStoriesContext").defaultContext,e,{isInitiallyFollowedByViewer:g,viewerHeight:j})},[g,e,j]);a=m(a);var n=a[0],o=a[1];a=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").isFromPreviousFullscreenSession);var p=d("react-redux-wwwig").useSelector(function(a){return a.stories.isAppAttributionOpen}),q=d("react-redux-wwwig").useSelector(function(a){return a.stories.tappedObjectId}),r=i(function(a){return o(function(b){return babelHelpers["extends"]({},b,a)})},[]),s=l(function(){return babelHelpers["extends"]({},n,{updateStoriesContext:r})},[n,r]);c("useWWWIGStoriesLogging")();var t=a||p;c("PolarisuseStoriesProviderDisableNewPlayback")(n,q,t,r);k(function(){r({isResumeOverlayActive:t})},[t,r]);k(function(){r({hasFocus:document.hasFocus(),isHidden:document.hidden!=null?document.hidden:!1})},[r]);return h.jsx(d("PolarisStoriesContext").StoriesContext.Provider,{value:s,children:b})}b.displayName=b.name+" [from "+f.id+"]";e=h.memo(b);g.useStoriesContext=a;g.StoriesContextProvider=e}),98);
__d("PolarisStoriesPageBugNub",["PolarisAsyncStoriesDebugInfoNubContainer","PolarisStoriesProvider","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){a=d("PolarisStoriesProvider").useStoriesContext();var b=a.updateStoriesContext;a=i(function(){b({isBugNubActive:!1})},[b]);var e=i(function(){b({isBugNubActive:!0})},[b]);return h.jsx(c("PolarisAsyncStoriesDebugInfoNubContainer"),{onClose:a,onOpen:e,variant:"wwwig"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisInstagramReelViewerAppAttributionNavFalcoEvent",["PolarisFalcoLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h={pigeon:!1,falco:!0};a=function(){function a(){}a.log=function(a){c("gkx")("4974")&&d("PolarisFalcoLogger").FalcoLogger.log("reel_viewer_app_attribution_nav",a(),{},h)};return a}();g["default"]=a}),98);
__d("PolarismaybeBuildPlayStoreUrl",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return!a.match(/^([A-Za-z]{1}[A-Za-z\d_]*\.)+[A-Za-z][A-Za-z\d_]*$/)?null:"https://play.google.com/store/apps/details?id="+a};b=a;f["default"]=b}),66);
__d("PolarisStoryAppAttribution",["cx","PolarisInstagramReelViewerAppAttributionNavFalcoEvent","PolarisNavigationUtils","PolarisStoryActions","PolarismaybeBuildPlayStoreUrl","PolarisstorySelectors","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(){var a=e.props.attribution,b=a.content_url;a=a.link;if(b!=null&&b!=="")return b;if(a!=null&&a!==""){b=c("PolarismaybeBuildPlayStoreUrl")(a);return b||a}return null},e.$2=function(){var a=e.$1();if(a==null)return;e.props.onAttributionClick(e.props.attribution)},e.$3=function(){var a=e.props,b=a.attribution,f=a.containerModule,g=e.$1();c("PolarisInstagramReelViewerAppAttributionNavFalcoEvent").log(function(){return{app_name:b.name,attribution_id:b.id,destination:g||"",pigeon_reserved_keyword_module:f||"unknown"}});d("PolarisNavigationUtils").openExternalURL(c("nullthrows")(g),"stories")},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=this.props,b=a.attribution;a=a.isAppAttributionOpen;return i.jsxs("div",{className:"_ac3a",children:[i.jsxs("div",{className:"_ac3b",onClick:this.$2,role:"button",tabIndex:"0",children:[i.jsx("img",{alt:"",className:"_ac3c",src:b.app_icon_url}),i.jsx("div",{className:"_ac3d",children:b.app_action_text}),i.jsx("div",{className:"_9znl"})]}),a&&i.jsxs("div",{className:"_ac3e",children:[i.jsx("div",{className:"_ac3f"}),i.jsxs("div",{className:"_ac3g",onClick:this.$3,role:"button",tabIndex:"0",children:["Open ",b.name]})]})]})};return b}(i.Component);function a(a){return{isAppAttributionOpen:a.stories.isAppAttributionOpen,containerModule:d("PolarisstorySelectors").getContainerModuleFromEntrypoint(a.navigation.entrypoint[0])}}function b(a){return{onAttributionClick:function(b){a(d("PolarisStoryActions").openAppAttribution(b))}}}f=d("react-redux-wwwig").connect(a,b)(e);g["default"]=f}),98);
__d("PolarisStoryExpired",["cx","fbt","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=i._(/*FBT_CALL*/"This story is no longer available"/*FBT_CALL*/);a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.play=function(){};c.pause=function(){};c.resume=function(){};c.render=function(){var a=this.props,b=a.eventZone,c=a.isFirstStory,d=a.onClose,e=a.onPrev,f=a.onPrevReel,g=a.onNext;a=a.onNextReel;return j.jsxs("div",{className:"_abwn",children:[j.jsx("p",{className:"_abwo",children:k}),j.jsx(b,{isFirstStory:c,isPlaying:!0,isVideo:!1,onClose:d,onNext:g,onNextReel:a,onPause:this.pause,onPlay:this.play,onPrev:e,onPrevReel:f,onResume:this.resume,showVideoPlayButton:!1,tappableStickersEligible:!1})]})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisStoryFooterCTA",["cx","PolarisExternalLink","PolarisGenericStrings","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreChevronIcon","PolarisIGCoreText","PolarisIGTheme","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.color,e=a.disableAnimation,f=a.externalURL,g=a.icon,h=a.isActive,j=a.onClick,k=a.showChevron;k=k===void 0?!1:k;var l=a.text,m=a.textAlign;m=m===void 0?"center":m;a=a.textThemedColor;var n=d("PolarisIGTheme").useTheme(),o=g!=null;g=o?i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisIGCoreBox"),{flex:"none",children:g}),i.jsx(c("PolarisIGCoreBox"),{marginEnd:3})]}):null;k=k?i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisIGCoreBox"),{flex:"grow",height:"100%",marginEnd:7,right:!0}),i.jsx(c("PolarisIGCoreChevronIcon"),{alt:d("PolarisGenericStrings").RIGHT_CHEVRON,color:a!=null?a:"ig-tertiary-icon",direction:"right",size:16})]}):null;var p=i.jsx("span",{style:{fontSize:12,lineHeight:"16px"},children:l});n=n.getTheme()===d("PolarisIGTheme").IGTheme.Dark?a==null?void 0:a.dark:a==null?void 0:a.light;n!=null&&(p=i.jsx("span",{style:{color:n,fontSize:12,lineHeight:"16px"},children:l}));a=i.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[g,i.jsx(c("PolarisIGCoreBox"),{flex:"shrink",children:i.jsx(c("PolarisIGCoreText").Body,{color:b,textAlign:m,weight:"semibold",children:p})}),k]});f!=null?a=i.jsx(c("PolarisExternalLink"),{href:f,onClick:j,children:a}):j!=null&&(a=i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:function(){return j()},children:a}));n=d("PolarisUA").isMobile();return i.jsxs("div",{className:"_ac5d"+(h?" _ac5e":""),children:[i.jsx("div",{className:"_ac5f"+(h?" _ac5g":"")+(e?"":" _ac5h")+(o?" _ac5i":""),children:a}),n&&i.jsx("div",{className:"_ac5j",children:i.jsx("div",{className:h?"_ac5k":""})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryMediaDebugger.prerelease",["cx","PolarisNetworkInfo","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){var b=a.currentSrc,c=a.imageResources;a=a.videoResources;return i.jsxs(i.Fragment,{children:[i.jsx("p",{children:"Available Qualities"}),i.jsx("ul",{className:"_ac4a",children:(c=(c=c)!=null?c:a)==null?void 0:c.map(function(a){var c=a.src===b;return i.jsx("li",{className:c?"_ac4b":"",children:i.jsxs("p",{children:[a.configWidth,"w x ",a.configHeight,"h"]})})})})]})}function a(a){var b,c=a.imageRef;c=c===void 0?null:c;var e=a.post;a=a.videoRef;a=a===void 0?null:a;var f="";c!=null&&(f=c.currentSrc);a!=null&&(f=a.currentSrc);return i.jsxs("div",{className:"_ac49",children:[i.jsxs("p",{children:["Media type: ",c==null?"Video":"Image"]}),i.jsxs("p",{children:["Post ID: ",e.id]}),i.jsxs("p",{children:["Has audio: ",e.hasAudio===!0?"true":"false"]}),i.jsxs("p",{children:["Browser Bandwidth Estimate: ",(b=d("PolarisNetworkInfo").getNavigatorConnection())==null?void 0:b.downlink," Mbps"]}),c!==null&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Element Size: ",c==null?void 0:c.width,"w x ",c==null?void 0:c.height,"h"]}),i.jsx(j,{currentSrc:f,imageResources:e.displayResources})]}),a!==null&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Element Size: ",a==null?void 0:a.clientWidth,"w x ",a==null?void 0:a.clientHeight,"h"]}),i.jsx(j,{currentSrc:f,videoResources:e.videoResources})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryPreview",["cx","PolarisIGCoreSpinner","PolarisPreviewPhoto","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.className,e=a.dimensions;a=a.mediaPreview;return i.jsxs("div",{className:c("joinClasses")(b,"_ac59"),children:[a!=null&&a!==""&&i.jsx(d("PolarisPreviewPhoto").PreviewPhoto,{dimensions:e,previewData:a}),i.jsx(c("PolarisIGCoreSpinner"),{position:"absolute",size:"medium"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryImage",["cx","PolarisEventLoop","PolarisIGCoreBox","PolarisResponsiveImage","PolarisStoriesLoggingUtils","PolarisStoryMediaDebugger.prerelease","PolarisStoryMediaLayout","PolarisStoryPerformanceLogger","PolarisStoryPreview","PolarisStyleConstants","PolarisUA","PolarisdeveloperSettings","PolarisuseIGCorePreviousValue","PolariswithRemountOnChange","joinClasses","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useEffect,l=e.useRef,m=e.useState;function a(a){var b=a.eventZone,e=a.isFirstStory,f=a.isInitialLoad,g=a.isPlaybackDisabled,h=a.isTransitioning,n=a.onClose,o=a.onNext,p=a.onNextReel,q=a.onPause,r=a.onPlay,s=a.onPostSeen,t=a.onPrev,u=a.onPrevReel,v=a.onUpdatePlayPercentage,w=a.post,x=a.reelId,y=a.viewerDimensions;a=m(!1);var z=a[0],A=a[1];a=m(!1);var B=a[0],C=a[1];a=m(null);var D=a[0],E=a[1];D=0;var F,G,H=c("PolarisuseIGCorePreviousValue")(g),I=l(G),J=j(function(){I.current!=null&&(c("PolarisEventLoop").clearInterval(I.current),I.current=null)},[I]),K=function(){J(),o("automatic_forward")},L=j(function(){if(!B)return;C(!1)},[B]),M=j(function(){if(g||!z||B)return;C(!0)},[z,g,B,C]),N=function(){M()},O=function(a,b){f!=null&&f===!0&&(d("PolarisStoryPerformanceLogger").StoryViewerPerformanceLogger.onMediaReady({isMediaPrefetched:b||!1,mediaType:1,reelId:String(x)}),d("PolarisStoryPerformanceLogger").StoryNavigationPerformanceLogger.onMediaReady({isMediaPrefetched:b||!1,reelId:String(x)})),s(),A(!0)};k(function(){g&&H===!1&&!h?L():!g&&H===!0&&!h&&M()},[g,h,L,M,H]);k(function(){return function(){F&&(F.onload=null),J()}},[]);var P=l(D),Q=j(function(){if(I.current!=null)return;I.current=c("PolarisEventLoop").setInterval(function(){P.current+=c("PolarisStyleConstants")["story-progressbar-update-tick"].value;var a=P.current*100/c("PolarisStyleConstants")["story-image-duration"].value;a=Math.min(a,100);v(a);a===100&&K()},c("PolarisStyleConstants")["story-progressbar-update-tick"].value*1e3)},[I,v,K,P]),R=c("PolarisuseIGCorePreviousValue")(B);k(function(){if(R===B)return;!B&&P.current<c("PolarisStyleConstants")["story-image-duration"].value?(d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startPauseTimer(),J(),q()):B&&!g&&z&&P.current<c("PolarisStyleConstants")["story-image-duration"].value&&(d("PolarisStoriesLoggingUtils").StoriesLoggingSession.stopPauseTimer(),Q(),r())},[J,P,z,g,B,q,r,R,Q]);k(function(){z&&M()},[z,M]);var S=c("nullthrows")(w.dimensions);return i.jsxs("div",{className:"_ac50",children:[null,i.jsx(c("PolarisStoryMediaLayout"),{intrinsicDimensions:S,children:function(a){var f;return i.jsxs(i.Fragment,{children:[!z&&i.jsx(c("PolarisStoryPreview"),{className:a.className,dimensions:S,mediaPreview:w.mediaPreview},"p_"+w.id),i.jsx(c("PolarisResponsiveImage"),{className:c("joinClasses")(a.className,(B?"":"_ac51")+(z?"":" _ac52")),decoding:"sync",imgRef:function(a){return E(a)},onLoad:O,resizeKey:((f=w.src)!=null?f:"")+"-"+(h?"transitionInProgress":"transitionComplete"),src:w.src,srcSet:w.displayResources}),i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",bottom:!0,height:d("PolarisUA").isMobile()?"":"100%",justifyContent:"center",left:!0,overflow:"hidden",position:d("PolarisUA").isMobile()?"fixed":"static",right:!0,top:!0,children:i.jsx(b,{isFirstStory:e,isPlaying:B,isVideo:!1,mediaLayout:a,onClose:n,onNext:o,onNextReel:p,onPause:L,onPlay:M,onPrev:t,onPrevReel:u,onResume:N,showVideoPlayButton:!1,tappableStickersEligible:!0,viewerDimensions:y})})]})}})]})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return a.post.id!==b.post.id}h=c("PolariswithRemountOnChange")(b)(a);g["default"]=h}),98);
__d("PolarisStoryMediaOverlayInfoFooterCTA",["fbt","PolarisAssetManagerGlyphMapping","PolarisIGBloksAsyncAppLauncher","PolarisIGCoreIcon","PolarisIGCoreInfoPanoOutlineIcon","PolarisInstagramMediaOverlayFalcoEvent","PolarisMediaOverlayInfoTypes","PolarisMisinformationConstants","PolarisStoriesProvider","PolarisStoryFooterCTA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l=b.useState;function m(a,b){var c=a.analyticsContext,e=a.bannerInfo,f=a.entityID,g=e.bannerButton,h=e.overlayLayout,i=e.overlayType;d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.log(function(){return d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.buildPayloadForLog({button:g,containerModule:d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.getLoggableContainerModuleFromAnalyticsContext(c),entityID:f,event:b,overlayLayout:h,overlayType:i})})}function n(a){m(a,d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION)}function o(a,b){n(a),b()}function p(a){a=a.bannerInfo;var b=a.bannerButton,e=a.iconAltText;a=a.iconGlyph;b=b.text_color;e=e!=null?h._(/*FBT_CALL*/"{text}"/*FBT_CALL*/,[h._param("text",e)]):d("PolarisMisinformationConstants").POST_FOOTER_CTA_ALT_TEXT;if(a===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.INFO)return i.jsx(c("PolarisIGCoreInfoPanoOutlineIcon"),{alt:e,color:b!=null?b:"ig-primary-icon",size:16});else if(a===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.WARNING)return i.jsx(c("PolarisIGCoreIcon"),{alt:e,icon:d("PolarisAssetManagerGlyphMapping").ICONS.WARNING_OUTLINE_16_RED5});return null}function a(a){var b=l(!1),e=b[0],f=b[1];b=l(0);var g=b[0],h=b[1];b=d("PolarisStoriesProvider").useStoriesContext();var k=b.updateStoriesContext;b=a.bannerInfo;var m=a.disableImpressionLogging,n=a.entityID,r=b.animationInfo,s=b.bannerButton;b=b.text;var t=r.canAnimateSlideIn,u=r.isHidden,v=s.action;r=s.action_url;var w=s.has_chevron,x=s.is_text_centered;s=s.text_color;var y=v===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_EXTERNAL_URL?r:void 0,z=q(a),A=z!==n;j(function(){(A||e===!1)&&m!==!0&&u!==!0?f(!0):A&&f(!1)},[m,u,A,e,a,f]);z=v!==d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.NO_OP?function(){return o(a,function(){v===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_BLOKS_APP&&k({isPlaybackDisabled:!0}),h(g+1)})}:void 0;return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisStoryFooterCTA"),{disableAnimation:!t,externalURL:y,icon:p(a),isActive:!u,onClick:z,showChevron:(t=w)!=null?t:!1,text:b,textAlign:x===!0?"center":"left",textThemedColor:s}),v===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_BLOKS_APP&&g>0&&r!=null&&i.jsx(c("PolarisIGBloksAsyncAppLauncher"),{appId:r,onResumeStoryPlayback:function(){k({isPlaybackDisabled:!1})},params:{media_id:n,module:a.analyticsContext}},g)]})}a.displayName=a.name+" [from "+f.id+"]";function q(a){var b=a.entityID,c=k();j(function(){c.current=b});return c.current}g["default"]=a}),98);
__d("PolarisStorySensitivityOverlay",["cx","fbt","IGCoreDialog","PolarisEventLoop","PolarisIGBloksAsyncAppLauncher","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreDivider","PolarisIGCoreText","PolarisInstagramMediaOverlayFalcoEvent","PolarisLogger","PolarisMediaOverlayInfoTypes","PolarisPreviewPhoto","PolarisSensitivityOverlayCenterButton","PolarisSensitivityOverlayIcon","PolarisStoriesContext","PolarisStoryMediaLayout","PolarisStyleConstants","PolarisgetPostFromGraphMediaInterface","PolarisstorySelectors","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("PolarisStyleConstants")["story-progressbar-update-tick"].value*1e3;function l(a){var b=a.centerButtonNode,d=a.description,e=a.eventZone,f=a.icon;a=a.title;return j.jsxs(c("PolarisIGCoreBox"),{alignContent:"center",direction:"column",height:"100%",justifyContent:"center",paddingX:8,children:[f,j.jsx(c("PolarisIGCoreBox"),{marginBottom:6,marginTop:7,children:j.jsx(c("PolarisIGCoreText").Headline1,{color:"web-always-white",textAlign:"center",children:a})}),j.jsx(c("PolarisIGCoreBox"),{marginBottom:6,children:j.jsx(c("PolarisIGCoreText").Body,{color:"web-always-white",textAlign:"center",children:d})}),e,j.jsx(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",justifyContent:"center",width:"100%",children:b})]})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.eventZone,d=a.mediaOverlayCoverInfo,e=a.onMediaOverlayInfoButtonClick,f=d.centerButton;a=d.description;var g=d.rootIconGlyph,h=d.title,i=f!=null?j.jsx(c("PolarisSensitivityOverlayCenterButton"),{buttonText:f.text,handler:function(a){e(d,f)}}):null;g=j.jsx(c("PolarisSensitivityOverlayIcon"),{mediaOverlayIconGlyph:g});return j.jsx(l,{centerButtonNode:i,description:a,eventZone:b,icon:g,title:h})}m.displayName=m.name+" [from "+f.id+"]";b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this,b)||this;e.$2=0;e.$3=null;e.$4=function(){if(e.$3!=null&&e.$3!==0)return;e.$3=c("PolarisEventLoop").setInterval(function(){if(e.state.showDialog||e.props.isPlaybackDisabled)return;e.$2+=c("PolarisStyleConstants")["story-progressbar-update-tick"].value;var a=e.$2*100/c("PolarisStyleConstants")["story-image-duration"].value;a=Math.min(a,100);e.props.onUpdatePreplayPercentage(a);a===100&&e.$6()},k)};e.$5=function(){e.$3!=null&&e.$3!==0&&(c("PolarisEventLoop").clearInterval(e.$3),e.$3=null)};e.$6=function(){e.$5(),e.props.onNext("automatic_forward")};e.$7=function(a){var b=e.props,c=b.onShowPostClicked;b=b.onUpdatePreplayPercentage;e.$8({event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,mediaOverlayCoverInfo:a,customAction:"story_see_post_confirmation_continue",customSourceOfAction:"see_post_confirmation"});e.$9("reel_instagram_organic_gate_clear_dialog_accepted");e.$5();b(0);c()};e.$10=function(a){e.$8({event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,mediaOverlayCoverInfo:a,customAction:"story_see_post_confirmation_dismiss",customSourceOfAction:"see_post_confirmation"}),e.$9("reel_instagram_organic_gate_clear_dialog_dismiss"),e.setState({showDialog:!1})};e.$11=function(a,b){e.$8({event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,mediaOverlayCoverInfo:a,button:b}),e.$9("reel_instagram_organic_gate_clear_dialog_shown"),e.setState({showDialog:!0})};e.$12=function(a,b){(b==null?void 0:b.action_url)!=null&&(e.context.updateStoriesContext({bloksButtonClickCount:e.context.bloksButtonClickCount+1,bloksButtonAppId:b.action_url,isPlaybackDisabled:!0}),e.$8({event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,mediaOverlayCoverInfo:a,button:b}))};e.$13=function(a,b){var c=b.action;switch(c){case d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.CLEAR_MEDIA_COVER:e.$11(a,b);break;case d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_BLOKS_APP:e.$12(a,b);break;default:break}};e.$9=function(a){var b=e.props,f=b.followStatus,g=b.post,h=b.reelId,i=b.reelPosition,j=b.reelSize,k=b.reelType,l=b.trayEntrypoint,m=b.trayPosition,n=b.traySessionId;b=b.viewerSessionId;var o=!(g.isVideo||!1)&&!(g.isSidecar||!1);d("PolarisLogger").logGatingEvent_DEPRECATED(a,{a_pk:g.id,containermodule:"story",follow_status:f==null?void 0:(a=f.followedByViewer)==null?void 0:a.state,gate_type:"sensitivity",m_pk:g.id+"_"+c("nullthrows")((f=g.owner)==null?void 0:f.id),m_t:o?"1":"2",reel_id:h,reel_position:i,reel_size:j,reel_type:k,source_of_action:l,time_elapsed:e.$2,time_remaining:c("PolarisStyleConstants")["story-image-duration"].value-e.$2,tray_position:m,tray_session_id:n,viewer_session_id:b})};e.$1=!1;e.state={showDialog:!1};return e}var e=b.prototype;e.componentDidMount=function(){this.$4()};e.componentWillUnmount=function(){this.$5()};e.render=function(){var a=this,b=this.props.post,e=b.id,f=b.mediaPreview;if(f==null)return null;var g=d("PolarisgetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPost(this.props.post);this.$1||(this.$1=!0,this.$14(g));b=this.props;var h=b.eventZone,k=b.isFirstStory,l=b.onClose,n=b.onNext,o=b.onNextReel,p=b.onPause,q=b.onPlay,r=b.onPrev;b=b.onPrevReel;h=j.jsx(h,{isFirstStory:k,isPlaying:!1,isVideo:!1,onClose:l,onNext:n,onNextReel:o,onPause:p,onPlay:q,onPrev:r,onPrevReel:b,onResume:function(){},showVideoPlayButton:!1,tappableStickersEligible:!1});k=null;l=null;var s;if(g!=null){var t=g.bottomButton;s=j.jsx(m,{eventZone:h,mediaOverlayCoverInfo:g,onMediaOverlayInfoButtonClick:this.$13});t!=null&&(k=t.text,l=function(){return a.$13(g,t)})}else s=j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisSensitivityOverlayIcon"),{mediaOverlayIconGlyph:null}),h]});var u=this.state.showDialog&&j.jsxs(d("IGCoreDialog").IGCoreDialog,{body:j.jsx(c("PolarisIGCoreText").Title,{children:i._(/*FBT_CALL*/"Are you sure?"/*FBT_CALL*/)}),onModalClose:function(){return a.$10(g)},children:[j.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:function(){return a.$7(g)},children:i._(/*FBT_CALL*/"Continue"/*FBT_CALL*/)}),j.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:function(){return a.$10(g)},children:i._(/*FBT_CALL*/"Cancel"/*FBT_CALL*/)})]}),v=k!=null&&k!==""&&j.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",bottom:!0,dangerouslySetClassName:{__className:"_ac53"},paddingX:8,position:"absolute",width:"100%",children:[j.jsx(c("PolarisIGCoreDivider"),{}),j.jsx(c("PolarisIGCoreBox"),{paddingY:4,width:"100%",children:j.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"ig-secondary-button",fullWidth:!0,onClick:l!=null?l:void 0,children:j.jsx(c("PolarisIGCoreText"),{color:"web-always-white",children:k})})})]});n=this.context;o=n.bloksButtonAppId;p=n.bloksButtonClickCount;return j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisIGCoreBox"),{height:"100%",position:"relative",width:"100%",children:j.jsx(c("PolarisStoryMediaLayout"),{intrinsicDimensions:{height:this.context.viewerHeight,width:this.context.viewerWidth},children:function(b){return j.jsxs(j.Fragment,{children:[j.jsx(d("PolarisPreviewPhoto").PreviewPhoto,{dimensions:{height:a.context.viewerHeight,width:a.context.viewerWidth},previewData:f}),j.jsxs(c("PolarisIGCoreBox"),{bottom:!0,dangerouslySetClassName:{__className:"_abws"},justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:[s,u]}),v]})}})}),p>0&&o&&j.jsx(c("PolarisIGBloksAsyncAppLauncher"),{appId:o,onResumeStoryPlayback:function(){return a.context.updateStoriesContext({isPlaybackDisabled:!1})},params:{media_id:e,module:this.props.trayEntrypoint}},p)]})};e.$14=function(a){this.$9("reel_instagram_organic_gate_impression"),this.$8({event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.IMPRESSION,mediaOverlayCoverInfo:a})};e.$8=function(a){var b=a.button,c=a.customAction,e=a.customSourceOfAction,f=a.event;a=a.mediaOverlayCoverInfo;var g=this.props,h=g.containerModule;g=g.post;var i=g.id;g=a||{};a=g.overlayLayout;var j=a===void 0?null:a;a=g.overlayType;var k=a===void 0?null:a;d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.log(function(){return d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.buildPayloadForLog({event:f,containerModule:h,customAction:c,customSourceOfAction:e,entityID:i,overlayLayout:j,overlayType:k,button:b})})};return b}(j.Component);b.contextType=d("PolarisStoriesContext").StoriesContext;function a(a,b){return babelHelpers["extends"]({},d("PolarisstorySelectors").getStoryLoggingPackage(a))}e=d("react-redux-wwwig").connect(a,null)(b);g["default"]=e}),98);
__d("PolarisStoryTapToPlayOverlay",["PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreConstants","PolarisIGCoreText","PolarisLogger","PolarisPreviewPhoto","PolarisStoriesStrings","PolarisStoryMediaLayout","PolarisUserAvatar","Polarisods","PolarisstorySelectors","PolarisuserSelectors","gkx","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect,j=300;function a(a){var b,e=a.onShowPostClicked;a=a.post;i(function(){c("gkx")("4841")||d("PolarisLogger").logAction_DEPRECATED("storiesTapToPlayOverlaySeen"),c("Polarisods").incr("web.stories.stories_tap_to_play_overlay_seen")},[]);var f=(b=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostAuthor))==null?void 0:b.username;b=(b=d("react-redux-wwwig").useSelector(d("PolarisuserSelectors").getViewer))!=null?b:{};var g=b.profilePictureUrl,k=b.username,l=function(){c("gkx")("4841")||d("PolarisLogger").logAction_DEPRECATED("storiesTapToPlayOverlayTapped"),c("Polarisods").incr("web.stories.stories_tap_to_play_overlay_tapped"),e()};b=a.dimensions;var m=b===void 0?{height:j,width:j}:b,n=a.mediaPreview;return h.jsx(c("PolarisIGCoreBox"),{height:"100%",position:"relative",width:"100%",children:h.jsx(c("PolarisStoryMediaLayout"),{intrinsicDimensions:m,children:function(a){return h.jsxs(h.Fragment,{children:[n!=null&&h.jsx(d("PolarisPreviewPhoto").PreviewPhoto,{dimensions:m,previewData:n}),h.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",bottom:!0,direction:"column",display:"flex",justifyContent:"center",left:!0,marginEnd:"auto",marginStart:"auto",position:"absolute",right:!0,top:!0,width:"75%",children:[g!=null&&h.jsx(c("PolarisUserAvatar"),{isLink:!1,profilePictureUrl:g,size:c("PolarisIGCoreConstants").AVATAR_SIZES.XL}),k!=null&&h.jsx(c("PolarisIGCoreBox"),{marginTop:6,children:h.jsx(c("PolarisIGCoreText"),{color:"web-always-white",size:"title",textAlign:"center",weight:"semibold",children:d("PolarisStoriesStrings").viewStoryTitleText(k)})}),f!=null&&h.jsx(c("PolarisIGCoreBox"),{marginTop:4,children:h.jsx(c("PolarisIGCoreText"),{color:"web-always-white",size:"body",textAlign:"center",children:d("PolarisStoriesStrings").viewStorySubtitleText(f)})}),h.jsx(c("PolarisIGCoreBox"),{marginTop:8,children:h.jsx(c("PolarisIGCoreButton"),{color:"web-always-white",large:!0,onClick:l,children:d("PolarisStoriesStrings").VIEW_STORY})})]})]})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryVideoOverlay",["cx","fbt","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=!1,c.$3=function(){c.$2||(c.props.onLoad(),c.$2=!0)},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.componentDidMount=function(){this.$1&&this.$1.complete&&this.$3()};d.render=function(){var a=this;return j.jsx("img",{alt:i._(/*FBT_CALL*/"Story Video Overlay"/*FBT_CALL*/),className:c("joinClasses")("_ac5l",this.props.className),onLoad:this.$3,ref:function(b){return a.$1=b},src:this.props.src})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisStoryVideo",["cx","PolarisConfig","PolarisEventLoop","PolarisIGCoreBox","PolarisIGCoreSpinner","PolarisLogger","PolarisResponsiveImage","PolarisResponsiveVideo","PolarisStoriesContext","PolarisStoriesLoggingUtils","PolarisStoryConstants","PolarisStoryMediaDebugger.prerelease","PolarisStoryMediaLayout","PolarisStoryPerformanceLogger","PolarisStoryPreview","PolarisStoryVideoLogger","PolarisStoryVideoOverlay","PolarisStyleConstants","PolarisUA","PolarisVideoLogger","PolarisdeveloperSettings","Polarisods","PolariswithRemountOnChange","gkx","joinClasses","lodash-once","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={attemptingAutoplay:e.props.autoPlay,isBuffering:!1,isEnded:!1,isOverlayLoaded:!1,isPlaying:!1,isPosterLoaded:!1,isVideoLoaded:!1},e.$1=!1,e.$2=0,e.$3=0,e.$4=!1,e.$5=null,e.$6=null,e.$9=function(){e.$10(),e.props.isPlaybackDisabled||e.$11()},e.$10=c("lodash-once")(function(){e.props.onPostSeen()}),e.$12=c("lodash-once")(function(){e.props.autoPlay&&e.$13("autoplay")}),e.$8=function(){e.$5!=null&&e.$5!==0&&(c("PolarisEventLoop").clearInterval(e.$5),e.$5=null)},e.$11=function(){if(e.$5!=null&&e.$5!==0||e.props.videoRef.current==null)return;var a=e.props.videoRef.current;e.$5=c("PolarisEventLoop").setInterval(function(){if(!e.$16())!isNaN(a.duration)&&!isNaN(a.currentTime)&&e.props.onUpdatePlayPercentage(Math.min(100,a.currentTime*100/a.duration));else{e.$2+=d("PolarisStoryConstants").STORY_UPDATE_TICK_S;var b=e.$2*100/c("PolarisStyleConstants")["story-image-duration"].value;b=Math.min(b,100);e.props.onUpdatePreplayPercentage(b);b===100&&e.$17()}},d("PolarisStoryConstants").STORY_UPDATE_TICK_MS)},e.resume=function(){e.$18()},e.$19=function(){var a=e.props.videoRef;a.current&&(e.$3=a.current.currentTime,e.$6=c("PolarisEventLoop").setInterval(function(){a.current&&((a.current.paused||a.current.currentTime===e.$3)&&a.current.play(),e.$3=a.current.currentTime)},d("PolarisStoryConstants").STORY_UPDATE_TICK_MS))},e.$20=function(){e.$6!=null&&e.$6!==0&&(c("PolarisEventLoop").clearInterval(e.$6),e.$6=null)},e.play=function(){e.$4=!0,e.$13(e.props.loggerValuesRef.current.initialShouldStarted||e.props.loggerValuesRef.current.initialStartedPlaying?"clicktoplay":"resume")},e.$21=function(){var a=e.props.videoRef.current;e.$16()?e.$8():a&&e.state.isPlaying&&(e.props.onPause(),d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startPauseTimer(),a.pause(),d("PolarisConfig").isIOS()&&e.$20(),d("PolarisStoryVideoLogger").logVideoPausedEvent(a,e.props.post,e.props.loggerValuesRef.current,e.context.isMuted?0:1))},e.pause=function(){e.$21()},e.$7=function(){e.props.videoRef.current&&(d("PolarisStoryVideoLogger").logVideoExitedEvent(e.props.videoRef.current,e.props.post,e.props.loggerValuesRef.current),e.props.videoRef.current=null)},e.$22=function(){e.setState({isBuffering:!0})},e.$23=function(){d("PolarisStoryVideoLogger").logVideoPausedEvent(e.props.videoRef.current,e.props.post,e.props.loggerValuesRef.current,e.context.isMuted?0:1),e.$17()},e.$17=function(){e.$8(),e.props.onNext("automatic_forward"),e.setState({isEnded:!0})},e.$24=function(){e.$8(),e.setState({isBuffering:!1,isPlaying:!1}),e.$1&&(e.$1=!1,e.$11())},e.$25=function(){e.$11();e.setState({isBuffering:!1,isEnded:!1,isPlaying:!0});e.props.onPlay();var a=e.props.autoPlay?"autoplay":"clicktoplay";a={reason:e.props.loggerValuesRef.current.initialStartedPlaying?a:"resume",start_delay:d("PolarisVideoLogger").normalizeVideoEvent(Date.now()-e.props.loggerValuesRef.current.lastShouldStartTime)};e.props.loggerValuesRef.current.initialStartedPlaying=!1;d("PolarisStoryVideoLogger").logVideoEventWrapper("video_started_playing",d("PolarisStoryVideoLogger").getLoggingExtra(e.props.videoRef.current,e.props.post,a))},e.$26=function(){e.setState({isPosterLoaded:!0},function(){e.$9()})},e.$27=function(){e.setState({isOverlayLoaded:!0},function(){e.$15()&&(e.$9(),e.$12())})},e.$28=function(){e.setState({isVideoLoaded:!0},function(){e.$15()&&(e.props.isInitialLoad!=null&&e.props.isInitialLoad===!0&&d("PolarisStoryPerformanceLogger").StoryViewerPerformanceLogger.onMediaReady({isMediaPrefetched:!1,mediaType:2,reelId:String(e.props.reelId)}),d("PolarisStoryPerformanceLogger").StoryNavigationPerformanceLogger.onMediaReady({isMediaPrefetched:!1,reelId:c("nullthrows")(e.props.reelId)}),e.$9(),e.$12())})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidUpdate=function(a){this.props.isPlaybackDisabled&&!a.isPlaybackDisabled&&!this.props.isTransitioning?this.pause():!this.props.isPlaybackDisabled&&a.isPlaybackDisabled&&!this.props.isTransitioning&&this.resume()};e.componentDidMount=function(){var a;window.addEventListener("beforeunload",this.$7);a=((a=this.props.post.mutingInfo)==null?void 0:a.should_mute_audio)!==!0;this.context.updateStoriesContext({isMusicAvailableInCountry:a});this.props.loggerValuesRef.current={initialShouldStarted:!0,initialStartedPlaying:!0,lastShouldStartTime:0,lastStartPosition:0}};e.componentWillUnmount=function(){this.$8(),this.$7(),window.removeEventListener("beforeunload",this.$7),this.props.videoRef.current=null};e.$14=function(){return d("PolarisUA").isMobile()||this.props.post.overlayImageSrc==null||this.props.post.overlayImageSrc===""||this.state.isOverlayLoaded};e.$15=function(){return this.state.isVideoLoaded&&this.$14()};e.$16=function(){return this.$15()&&!this.state.isPlaying&&!this.$4&&!this.state.attemptingAutoplay&&!!this.props.videoRef.current&&this.props.videoRef.current.played.length===0};e.$18=function(a){a===void 0&&(a=this.props),this.$15()&&(this.$4||a.autoPlay)?this.$13("resume",a):!a.autoPlay&&this.$16()&&this.$11()};e.$13=function(a,b){var e=this;b===void 0&&(b=this.props);if(b.isPlaybackDisabled||this.state.isEnded)return;var f=this.props.videoRef.current;if(f&&!this.state.isPlaying){d("PolarisStoriesLoggingUtils").StoriesLoggingSession.stopPauseTimer();a==="autoplay"&&d("PolarisUA").isBrowser("Safari >= 15")&&(f.src=f.src);var g=f.play();g&&g.then(function(){b.onPlay(),d("PolarisConfig").isIOS()&&e.$19(),a==="autoplay"&&e.setState({attemptingAutoplay:!1})})["catch"](function(b){if(a==="autoplay"){var f=e.props,g=f.autoPlay,h=f.isMuted,i=f.post;f=f.preload;if(e.props.isMuted)c("gkx")("4841")||d("PolarisLogger").logAction_DEPRECATED("autoPlayFail",babelHelpers["extends"]({error:b.name+" "+b.message,autoPlay:g,isMuted:h,preload:f,hasAudio:i.hasAudio,userTriedToPlay:e.$4},e.state)),c("Polarisods").incr("web.auto.play.fail");else if(e.props.toggleMute!=null){e.props.toggleMute();e.$13("autoplay");c("gkx")("4841")||d("PolarisLogger").logAction_DEPRECATED("storyVideoAutoPlayRetryAfterMute",babelHelpers["extends"]({error:b.name+" "+b.message,autoPlay:g,isMuted:h,preload:f,hasAudio:i.hasAudio,userTriedToPlay:e.$4},e.state));c("Polarisods").incr("web.story.video.auto.play.retry.after.mute");return}e.$1=!0;e.setState({attemptingAutoplay:!1})}});d("PolarisStoryVideoLogger").logShouldStartEvent(f,this.props.post,this.props.loggerValuesRef.current,a);d("PolarisStoryVideoLogger").logVideoAudioEnabledEvent(f,this.props.post);this.props.loggerValuesRef.current.lastStartPosition=f&&f.currentTime}};e.render=function(){var a=this,b=this.state,e=b.isBuffering,f=b.isPosterLoaded;b=this.props;var g=b.autoPlay,h=b.eventZone,k=b.isFirstStory,l=b.onClose,m=b.onNext,n=b.onNextReel,o=b.onPrev,p=b.onPrevReel,q=b.post,r=b.preload,s=b.viewerDimensions,t=c("nullthrows")(q.dimensions),u=this.$16();return i.jsxs("div",{className:"_ac3s",children:[null,i.jsx(c("PolarisStoryMediaLayout"),{intrinsicDimensions:t,children:function(b){return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisStoryPreview"),{className:b.className,dimensions:t,mediaPreview:q.mediaPreview},"p_"+q.id),i.jsx(c("PolarisResponsiveImage"),{className:c("joinClasses")(b.className,f?"":"_ac3t"),decoding:"sync",onLoad:a.$26,src:q.src,srcSet:q.displayResources}),i.jsx(c("PolarisResponsiveVideo"),{autoPlay:a.props.autoPlay,className:c("joinClasses")(b.className,(a.$15()?"":"_ac3t")+" _ac3u"+(!g&&a.$16()?" _ac3v":"")),forwardedRef:a.props.videoRef,muted:a.props.isMuted||!q.hasAudio||a.context.isMusicAvailableInCountry===!1,onEnded:a.$23,onLoadedMetadata:a.$28,onPause:a.$24,onPlaying:a.$25,onWaiting:a.$22,playsInline:!0,poster:j,preload:r,sources:c("nullthrows")(q.videoResources)}),q.overlayImageSrc!=null&&q.overlayImageSrc!==""&&d("PolarisUA").isDesktop()&&i.jsx(c("PolarisStoryVideoOverlay"),{className:c("joinClasses")(b.className,a.$15()?"":"_ac3t"),onLoad:a.$27,src:q.overlayImageSrc}),i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",bottom:!0,height:d("PolarisUA").isMobile()?"":"100%",justifyContent:"center",left:!0,overflow:"hidden",position:d("PolarisUA").isMobile()?"fixed":"static",right:!0,top:!0,children:i.jsx(h,{isFirstStory:k,isPlaying:a.state.isPlaying,isVideo:!0,mediaLayout:b,onClose:l,onNext:m,onNextReel:n,onPause:a.pause,onPlay:a.play,onPrev:o,onPrevReel:p,onResume:a.resume,showVideoPlayButton:u,tappableStickersEligible:!u,viewerDimensions:s})})]})}}),e&&i.jsx(c("PolarisIGCoreSpinner"),{position:"absolute",size:"medium"})]})};return b}(i.Component);b.contextType=d("PolarisStoriesContext").StoriesContext;function a(a,b){return a.post.id!==b.post.id}e=c("PolariswithRemountOnChange")(a)(b);g["default"]=e}),98);
__d("PolarisStoryVideoContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");var i=c.useContext,j=c.useRef,k={ref:{current:null},loggerValuesRef:{current:{initialShouldStarted:!0,initialStartedPlaying:!0,lastShouldStartTime:0,lastStartPosition:0}}},l=h.createContext(k);function a(){return i(l)}function b(a){a=a.children;var b=j(k.ref.current),c=j(k.loggerValuesRef.current);return h.jsx(l.Provider,{value:{ref:b,loggerValuesRef:c},children:a})}b.displayName=b.name+" [from "+f.id+"]";g.defaultContext=k;g.StoryVideoContext=l;g.useStoryVideoContext=a;g.StoryVideoContextProvider=b}),98);
__d("PolarisStoryMedia",["PolarisLoggedOutStoryUpsell","PolarisStoriesContext","PolarisStoryExpired","PolarisStoryImage","PolarisStoryMediaOverlayInfoFooterCTA","PolarisStorySensitivityOverlay","PolarisStoryTapToPlayOverlay","PolarisStoryVideo","PolarisStoryVideoContext","PolarisgetPostFromGraphMediaInterface","PolarisisUserLoggedIn","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){var a=c.props,b=a.onPostSeen,d=a.post;a=a.reelId;b(a,d.id)},c.$2=function(){c.context.updateStoriesContext({isMuted:!c.context.isMuted})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$3=function(a){var b=null,e=this.props.trayEntrypoint;b=d("PolarisgetPostFromGraphMediaInterface").getMediaOverlayBottomBannerInfoFromRootPost(a,!0);return b!=null?h.jsx(c("PolarisStoryMediaOverlayInfoFooterCTA"),{analyticsContext:e,bannerInfo:b,disableImpressionLogging:!1,entityID:a.id}):null};e.render=function(){var a=this,b=this.props,e=b.isExpired,f=b.isInitialLoad;b.onPostSeen;var g=b.post,i=b.reachedLoggedOutHighlightsLimit,j=b.reelId;b=babelHelpers.objectWithoutPropertiesLoose(b,["isExpired","isInitialLoad","onPostSeen","post","reachedLoggedOutHighlightsLimit","reelId"]);var k=babelHelpers["extends"]({},b,{onPostSeen:this.$1,post:g});b=this.context;var l=b.isMuted,m=b.isPlaybackDisabled,n=b.isTransitioning,o=this.$3(g);if(!d("PolarisisUserLoggedIn").isUserLoggedIn()&&i===!0)return h.jsx(c("PolarisLoggedOutStoryUpsell"),babelHelpers["extends"]({isPlaybackDisabled:m,isTransitioning:n},k));if(this.context.needsTapToStart)return h.jsx(c("PolarisStoryTapToPlayOverlay"),babelHelpers["extends"]({isPlaybackDisabled:m,isTransitioning:n,onShowPostClicked:function(){a.context.updateStoriesContext({needsTapToStart:!1}),a.props.onPlay()}},k));if(this.context.postIDThatShouldShowSensitiveContentOverlay!=null&&g.id===this.context.postIDThatShouldShowSensitiveContentOverlay)return h.jsx(c("PolarisStorySensitivityOverlay"),babelHelpers["extends"]({isPlaybackDisabled:m,isTransitioning:n,onShowPostClicked:function(){a.context.updateStoriesContext({postIDThatShouldShowSensitiveContentOverlay:null})}},k));if(e)return h.jsx(c("PolarisStoryExpired"),babelHelpers["extends"]({},k,{isPlaybackDisabled:m,isTransitioning:n}));else if(g.isVideo===!0)return h.jsx(d("PolarisStoryVideoContext").StoryVideoContext.Consumer,{children:function(b){var d=b.loggerValuesRef;b=b.ref;return h.jsxs(h.Fragment,{children:[h.jsx(c("PolarisStoryVideo"),babelHelpers["extends"]({},k,{isInitialLoad:f,isMuted:l,isPlaybackDisabled:m,isTransitioning:n,loggerValuesRef:d,reelId:j,toggleMute:a.$2,videoRef:b})),o]})}});return h.jsxs(h.Fragment,{children:[h.jsx(c("PolarisStoryImage"),babelHelpers["extends"]({},k,{isInitialLoad:f,isPlaybackDisabled:m,isTransitioning:n,reelId:j})),o]})};return b}(h.PureComponent);a.contextType=d("PolarisStoriesContext").StoriesContext;a.defaultProps={onClose:c("emptyFunction"),onNext:c("emptyFunction"),onNextReel:c("emptyFunction"),onPause:c("emptyFunction"),onPlay:c("emptyFunction"),onPostSeen:c("emptyFunction"),onPrev:c("emptyFunction"),onPrevReel:c("emptyFunction"),onUpdatePlayPercentage:c("emptyFunction"),onUpdatePreplayPercentage:c("emptyFunction"),preload:"metadata"};g.StoryMedia=a}),98);
__d("PolarisStoryProgressBars",["cx","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){var b=a.animated;a=a.percentage;return i.jsxs("div",{className:"_ac3n",children:[i.jsx("div",{className:"_ac3o"}),a>0&&i.jsx("div",{className:"_ac3p"+(b?" _ac3q":""),style:{width:a+"%"}})]})}j.displayName=j.name+" [from "+f.id+"]";function k(a){var b=a.currentIndex,c=a.index;a=a.percentage;if(c<b)return i.jsx(j,{animated:!1,percentage:100});else if(c>b)return i.jsx(j,{animated:!1,percentage:0});return i.jsx(j,{animated:!0,percentage:a==null?100:a})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.className,d=a.count,e=a.currentIndex;a=a.percentage;var f=[];for(var g=0;g<d;g++)f.push(i.jsx(k,{currentIndex:e,index:g,percentage:a},g));return i.jsx("div",{className:c("joinClasses")(b,"_ac3r"),children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryReplyReaction",["cx","PolarisDirectStrings","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreText","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=51;b=8;var j=(a+2*b)*4,k=["\ud83d\ude02","\ud83d\ude2e","\ud83d\ude0d","\ud83d\ude22"],l=["\ud83d\udc4f","\ud83d\udd25","\ud83c\udf89","\ud83d\udcaf"],m=function(a){var b=a.emoji,e=a.onReactToStory;return i.jsx(c("PolarisIGCoreBox"),{margin:2,children:i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:function(){return e(b)},children:i.jsx("span",{className:(d("PolarisUA").isMobile()?"_ac5a":"")+(d("PolarisUA").isMobile()?"":" _ac5b"),children:b})})})};e=function(a){var b=a.onReactToStory;a=d("PolarisUA").isMobile()?j:void 0;var e=d("PolarisUA").isMobile()?17:4;return i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",children:i.jsxs("div",{className:"_ac5c",children:[i.jsx(c("PolarisIGCoreText").Title,{color:"web-always-white",textAlign:"center",weight:"semibold",children:d("PolarisDirectStrings").QUICK_REACTIONS}),i.jsxs(c("PolarisIGCoreBox"),{direction:"row",display:"flex",justifyContent:"center",marginBottom:e,marginTop:6,width:a,wrap:!0,children:[i.jsx(c("PolarisIGCoreBox"),{direction:"row",display:"flex",children:k.map(function(a){return i.jsx(m,{emoji:a,onReactToStory:b},a)})}),i.jsx(c("PolarisIGCoreBox"),{direction:"row",display:"flex",children:l.map(function(a){return i.jsx(m,{emoji:a,onReactToStory:b},a)})})]})]})})};f=e;g["default"]=f}),98);
__d("PolarisStoryReplyComposer",["cx","Keys","PolarisDirectActions","PolarisDirectStrings","PolarisIGCoreBox","PolarisIGCoreButton","PolarisLikeButton","PolarisStoriesContext","PolarisStoriesLoggingUtils","PolarisStoryActions","PolarisStoryReplyReaction","PolarisStoryStrings","PolarisUA","PolarishasDirect","PolarisuseDisplayProperties","PolarisuseIGCorePreviousValue","PolarisuserSelectors","gkx","nullthrows","react","react-redux-wwwig","react-textarea-autosize-wwwig"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=d("react");var j=a.useCallback,k=a.useContext,l=a.useEffect,m=a.useRef,n=a.useState;b=function(a){var b=a.handleStoryLike,e=a.likedByViewer,f=a.mediaId,g=a.onOpenStoriesComposer,h=a.onReactToStory,o=a.onReplyToStory,p=a.onSendMessage,q=a.onStoriesSendDismissMessage,r=a.onStoriesSendReaction,s=a.optionsElement,t=a.reelId,u=a.shareButton,v=a.storyOwnerId;a=a.supportsReelReactions;var w=k(d("PolarisStoriesContext").StoriesContext),x=w.isKeyboardActive,y=w.updateStoriesContext;w=n("");var z=w[0],A=w[1];w=n(!0);var B=w[0],C=w[1];w=c("PolarisuseDisplayProperties")();var D=w.orientation,E=w.viewportHeight,F=w.viewportWidth,G=c("PolarisuseIGCorePreviousValue")(D),H=c("PolarisuseIGCorePreviousValue")(E),I=c("PolarisuseIGCorePreviousValue")(F),J=m(),K=d("PolarisUA").isDesktop()?300:0;w=d("react-redux-wwwig").useSelector(function(a){return d("PolarisuserSelectors").getUserById(a,v)});w=w.username;w=d("PolarisUA").isDesktop()?d("PolarisStoryStrings").directReplyPlaceholder(c("nullthrows")(w)):d("PolarisDirectStrings").SEND_MESSAGE_STRING_V2;var L=j(function(){if(B)return;q(!0,z);o(v,t,f,z);p&&p(z);y({isKeyboardActive:!1});A("");C(!0);J.current!=null&&J.current.blur()},[B,f,z,o,p,q,t,v,y]),M=j(function(a){a=a.target.value;A(a);C(a.replace(/\s/g,"").length===0)},[]),N=j(function(a){d("PolarisUA").isDesktop()&&a.which===c("Keys").RETURN&&!a.shiftKey&&(a.preventDefault(),L())},[L]),O=j(function(a){d("PolarisUA").isDesktop()&&(a.which===c("Keys").LEFT||a.which===c("Keys").RIGHT)&&(a.preventDefault(),a.stopPropagation())},[]),P=j(function(){y({isKeyboardActive:!0}),d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startPauseTimer(),g()},[g,y]),Q=j(function(){x&&q(!1),d("PolarisStoriesLoggingUtils").StoriesLoggingSession.stopPauseTimer(),window.setTimeout(function(){return y({isKeyboardActive:!1})},K)},[q,x,y,K]);l(function(){H!=null&&G===D&&I===F&&H<E&&J.current!=null&&document.activeElement===J.current&&J.current.blur()},[D,G,H,I,E,F]);var R=j(function(a){p(a),r(a),h(v,t,f,a)},[f,r,h,p,t,v]);a=z.length===0&&x&&a&&d("PolarishasDirect").hasDirect();return c("gkx")("4838")!==!0?null:i.jsxs(i.Fragment,{children:[x&&i.jsx("div",{className:"_abx3"}),a&&c("gkx")("4839")&&i.jsx(c("PolarisStoryReplyReaction"),{onReactToStory:R}),i.jsxs(c("PolarisIGCoreBox"),{direction:"row",children:[i.jsxs("div",{className:"_abx0"+(d("PolarisUA").isDesktop()?" _abx1":""),children:[i.jsx(c("PolarisIGCoreBox"),{flex:"grow",marginEnd:1,children:i.jsx(c("react-textarea-autosize-wwwig"),{className:"_abx2",disabled:c("gkx")("4787")!==!0,maxRows:5,onBlur:Q,onChange:M,onFocus:P,onKeyDown:N,onKeyUp:O,placeholder:w,ref:J,value:z})}),B?s:i.jsx(c("PolarisIGCoreBox"),{marginEnd:2,children:i.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"web-always-white",onClick:L,children:d("PolarisDirectStrings").SEND_BUTTON_STRING})})]}),!x&&c("gkx")("5703")?i.jsx("div",{className:"_abx4",children:i.jsx(c("PolarisLikeButton"),{color:"ig-stroke-on-media",isLiked:e,onChange:b})}):null,x?null:u]})]})};e={onOpenStoriesComposer:d("PolarisStoryActions").logOpenStoriesComposer,onReactToStory:d("PolarisDirectActions").reactToStory,onReplyToStory:d("PolarisDirectActions").replyToStory,onStoriesSendDismissMessage:d("PolarisStoryActions").logStoriesSendDismissMessage,onStoriesSendReaction:d("PolarisStoryActions").logStoriesSendReaction};f=d("react-redux-wwwig").connect(null,e)(b);g["default"]=f}),98);
__d("PolarisStoryShareButton",["cx","PolarisDirectShareSheet","PolarisDirectStrings","PolarisIGCoreDirectPanoOutlineIcon","PolarisIGCoreSVGIconButton","PolarisStoriesContext","PolarishasDirect","PolarisisUserLoggedIn","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=d("react");var j=a.useCallback,k=a.useContext;b=function(a){var b=a.currentPost,e=a.handleShareStory;a.reelId;a=a.referrer;var f=k(d("PolarisStoriesContext").StoriesContext),g=f.isStoryShareSheetActive,h=f.shareClickCount,l=f.updateStoriesContext;f=function(){var a;if(b==null?void 0:(a=b.sharingFrictionInfo)==null?void 0:a.shouldHaveSharingFriction){l({isPlaybackDisabled:!0,shareClickCount:h+1});return}l({isStoryShareSheetActive:!0})};var m=j(function(){l({isLoggedOutStoryShareSheetActive:!0,isPaused:!0})},[l]);return d("PolarishasDirect").hasDirect()&&c("gkx")("4840")&&i.jsxs("div",{className:"_ac3h",children:[!d("PolarisisUserLoggedIn").isUserLoggedIn()&&i.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:m,children:i.jsx(c("PolarisIGCoreDirectPanoOutlineIcon"),{alt:d("PolarisDirectStrings").DIRECT_BUTTON_ALT_TEXT,color:"ig-stroke-on-media",size:24})}),d("PolarisisUserLoggedIn").isUserLoggedIn()&&i.jsx(d("PolarisDirectShareSheet").DirectShareSheet,{onClose:function(){return l({isStoryShareSheetActive:!1})},onDone:e,onOpen:f,referrer:a,shouldShow:g,children:i.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:function(){},children:i.jsx(c("PolarisIGCoreDirectPanoOutlineIcon"),{alt:d("PolarisDirectStrings").DIRECT_BUTTON_ALT_TEXT,color:"ig-stroke-on-media",size:24})})})]})};e=b;g["default"]=e}),98);
__d("PolarisStoryViewerSlider.react",["IGDSBox.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useLayoutEffect,j=b.useState,k={container:{appearance:"rceg0bqo",background:"e4gla453",outline:"hecdbnn3",width:"sspdcydq",height:"m14atxsa",paddingTop:"tba11i3p",paddingEnd:"pc2ti7lx",paddingBottom:"j204l0tz",paddingStart:"t1s4kxec",borderTopStartRadius:"isgbdmuc",borderTopEndRadius:"sdqsaeol",borderBottomEndRadius:"eflctw9m",borderBottomStartRadius:"i7iijxhw","::-webkit-slider-thumb":{appearance:"awjzbjxi"},"::-moz-range-thumb":{background:"q6kgcg5n",borderTop:"dy0nzwh8",borderEnd:"m54787w3",borderBottom:"swualie2",borderStart:"de31snbs"},"::-ms-thumb":{appearance:"efjwa95c"}},sliderThumb:{borderTopColor:"obydrkzw",borderEndColor:"flphpund",borderBottomColor:"d1b6p83p",borderStartColor:"dxci2y5j",borderTop:"dwymmizq",borderEnd:"tdq7hnog",borderBottom:"hz0jhtpk",borderStart:"lcr66yhj",backgroundColor:"azoxl2kx",position:"oump6a7n",borderTopStartRadius:"b3x8nfqx",borderTopEndRadius:"lahpa0ko",borderBottomEndRadius:"jfeko74q",borderBottomStartRadius:"cyaxq165"},sliderThumbLarge:{height:"a8mdaz9n",width:"e2fzosfu"},sliderThumbSmall:{height:"actjd7zs",width:"maxx6bgv"},emoji:{width:"q10r99h4",position:"fg7vo5n6"}};function l(a,b){a.style.backgroundImage="linear-gradient(to right, rgb(163, 7, 186) 0%, rgb(237, 73, 86) "+b+"%, rgb(var(--ig-separator)) "+b+"%, rgb(var(--ig-separator)) 100%"}function a(a){var b=a.emoji,d=a.value,e=a.showFloatingEmoji;a=a.smallerThumb;a=a===void 0?!1:a;var f=j(null),g=f[0];f=f[1];var m=12,n=20,o=24,p=d*100;i(function(){g&&l(g,p)},[g,p]);m=a?m:n;n=d*(m/2);d=d*(o/2)+(1-d)*(o/2-m/2);return h.jsxs(c("IGDSBox.react"),{direction:"column",display:"flex",width:"100%",children:[e&&h.jsx("div",{className:c("stylex")(k.emoji),style:{fontSize:o,left:"calc("+p+"% - "+d+"px)",padding:"4px 0px"},children:b}),h.jsxs(c("IGDSBox.react"),{display:"flex",height:m,justifyContent:"center",width:"100%",children:[h.jsx("input",{className:c("stylex")(k.container),disabled:!0,max:100,min:0,ref:f,type:"range",value:p}),h.jsx("div",{className:c("stylex")([k.sliderThumb,a?k.sliderThumbSmall:k.sliderThumbLarge]),style:{left:"calc("+p+"% - "+n+"px)"}})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStorySliderVoter.react",["PolarisStoryViewerSlider.react","PolarisUserListItem","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.index,d=a.onScrollEnter,e=a.onUsernameClick,f=a.storySliderVoter,g=a.isVisible,i=a.avatarSize;a=a.entryPoint;return h.jsx(c("PolarisUserListItem"),{avatarSize:i,borderlessFollowButton:!1,entryPoint:a,hideFollowButton:!0,hideName:!1,hideStoryRings:!0,hoverPositionType:"absolute",id:f.id,isVisible:g,onScrollEnter:d,onUsernameClick:e,position:b,subtitle:h.jsx("div",{className:"ju6srbet",children:h.jsx(c("PolarisStoryViewerSlider.react"),{showFloatingEmoji:!1,smallerThumb:!0,value:(i=f.vote)!=null?i:0})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStorySliderUserList.react",["fbt","PolarisErrorBoundaryWithHoldout","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreListItemPlaceholder","PolarisIGCoreSpinner","PolarisIGCoreText","PolarisIGVirtualList","PolarisStorySliderVoter.react","PolarisUserListItem","emptyFunction","react","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useState,l=10,m=65;function a(a){var b=a.avatarSize,d=a.containerSize;d=d===void 0?"auto":d;var e=a.currentPost,f=a.entryPoint,g=f===void 0?"unknown":f;f=a.hideStoryRings;var n=f===void 0?!1:f;f=a.initialRenderCount;var o=f===void 0?l:f;f=a.isLoading;var p=f===void 0?!1:f,q=a.likers,r=a.moreSliderVotersButton,s=a.onLoadStorySliderVoters;f=a.onScroll;var t=a.storySliderVoterCount,u=a.storySliderVoters,v=a.topComponent,w=a.userIds,x=i.createRef();a=k(0);var y=a[0],z=a[1],A=c("usePrevious")(y);j(function(){x.current!=null&&w.length===o&&A===0&&x.current.forceUpdate(),z(w.length)},[w,x,o,A]);a=function(a){var d=a.index;a=a.isVisible;if(w.length===0)return p?i.jsx(c("PolarisIGCoreListItemPlaceholder"),{size:b},d):null;return d<t?i.jsxs(c("PolarisErrorBoundaryWithHoldout"),{children:[d===0&&v!=null&&v,d===0&&i.jsx("div",{className:"jn62ilso ldf1vsx5 kqzodgqj m5drr62u",children:i.jsx(c("PolarisIGCoreText").Section,{children:h._(/*FBT_CALL*/"Answers"/*FBT_CALL*/)})}),i.jsx(c("PolarisStorySliderVoter.react"),{avatarSize:b,entryPoint:g,index:d,isVisible:a,onScrollEnter:c("emptyFunction"),onUsernameClick:c("emptyFunction"),storySliderVoter:u[d]}),d===u.length-1&&r===!0&&i.jsx("div",{className:"j3jh7fek tim0pt8w lxzbwl14 lbk2zsn2 hdkik80n",children:i.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"web-always-white",onClick:function(){var a;return s(e.id,(a=(a=e.storySliders)==null?void 0:(a=a[0])==null?void 0:a.id)!=null?a:"")},children:i.jsx(c("PolarisIGCoreText").Section,{children:h._(/*FBT_CALL*/"See all"/*FBT_CALL*/)})})}),d===u.length-1&&i.jsx("div",{className:"jn62ilso ldf1vsx5 kqzodgqj m5drr62u",children:i.jsx(c("PolarisIGCoreText").Section,{children:h._(/*FBT_CALL*/"Viewers"/*FBT_CALL*/)})})]},u[d].ts):i.jsxs(c("PolarisErrorBoundaryWithHoldout"),{children:[d===0&&v!=null&&v,i.jsx(c("PolarisUserListItem"),{avatarSize:b,borderlessFollowButton:!1,entryPoint:g,hasLiked:q==null?void 0:q.has(w[d-t]),hideFollowButton:!0,hideName:!1,hideStoryRings:n,id:w[d-t],isVisible:a,onScrollEnter:c("emptyFunction"),onUsernameClick:c("emptyFunction"),position:d-t})]},w[d-t])};return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisIGVirtualList"),{containerSize:d,estimatedItemSize:m,initialRenderCount:o,itemCount:w.length+t||o+t,onScroll:f,pageletName:"UserList",ref:x,renderer:a,style:p&&w.length===0?{overflowY:"hidden"}:{}}),p&&i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",marginTop:4,children:i.jsx(c("PolarisIGCoreSpinner"),{size:"medium"})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoriesAppInstallDialog",["fbt","IGCoreDialog","PolarisConfig","PolarisConfigConstants","PolarisIGCoreButton","PolarisLogger","PolarisOpenInApp","PolarisnavigationSelectors","Polarisods","gkx","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._(/*FBT_CALL*/"Get the App to Use Stickers"/*FBT_CALL*/),k=h._(/*FBT_CALL*/"You can create and react to stickers in the Instagram app."/*FBT_CALL*/);h._(/*FBT_CALL*/"You can create and react to stickers in the Instagram app. Enter your phone number and we'll send you a free download link."/*FBT_CALL*/);var l=h._(/*FBT_CALL*/"Get the App"/*FBT_CALL*/),m=h._(/*FBT_CALL*/"Not Now"/*FBT_CALL*/),n=h._(/*FBT_CALL*/"OK"/*FBT_CALL*/);b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),j=0;j<f;j++)g[j]=arguments[j];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(a){a.preventDefault(),c("gkx")("4841")||d("PolarisLogger").logAction_DEPRECATED("storiesStickerUnsupportedAppsellClick",{stickerType:e.props.fallbackType,medium:"installLink",platform:d("PolarisConfig").getAppPlatform(),source:"storySticker"}),c("Polarisods").incr("web.stories.stories_sticker_unsupported_appsell_click"),d("PolarisOpenInApp").flushLogsAndOpenInApp(e.props.android,e.props.ios,e.props.originalPath)},e.$2=function(){c("gkx")("4841")||d("PolarisLogger").logAction_DEPRECATED("storiesStickerUnsupportedAppsellDismiss",{stickerType:e.props.fallbackType}),c("Polarisods").incr("web.stories.stories_sticker_unsupported_appsell_dismiss"),e.props.onClose()},e.$3=function(){return h._(/*FBT_CALL*/"You can create and react to stickers in the Instagram app. Get it for free from the {app store} or the {play store}."/*FBT_CALL*/,[h._param("app store",i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:e.$1,target:"_blank",children:h._(/*FBT_CALL*/"App Store"/*FBT_CALL*/)})),h._param("play store",i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:e.$1,target:"_blank",children:h._(/*FBT_CALL*/"Play Store"/*FBT_CALL*/)}))])},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=d("PolarisConfig").getAppPlatform();switch(a){case d("PolarisConfigConstants").appPlatformTypes.ANDROID:case d("PolarisConfigConstants").appPlatformTypes.IOS:return i.jsxs(d("IGCoreDialog").IGCoreDialog,{body:k,onModalClose:this.$2,title:j,children:[i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$1,children:l}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:this.$2,children:m})]});default:return i.jsx(d("IGCoreDialog").IGCoreDialog,{body:this.$3(),onModalClose:this.$2,title:j,children:i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:this.$2,children:n})})}};return b}(i.Component);function a(a){return babelHelpers["extends"]({},d("PolarisnavigationSelectors").getDeepLink(a))}e=d("react-redux-wwwig").connect(a)(b);g["default"]=e}),98);
__d("PolarisStoryTappablePopup",["cx","fbt","PolarisGuideLogger","PolarisGuideStrings","PolarisLinkBuilder","PolarisLogger","PolarisNavigationUtils","Polarisods","Polarisunexpected","browserHistory","gkx","nullthrows","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.getPopupObject=function(a){var b=null,e=function(){return null},f=this.props.onTagClick;switch(a.type){case"GraphTappableHashtag":a.attribution!=null&&a.customTitle!=null?b=j.jsxs(j.Fragment,{children:[j.jsx("div",{children:a.customTitle}),j.jsx("div",{className:"_ac5q",children:a.attribution})]}):b=i._(/*FBT_CALL*/"See Hashtag"/*FBT_CALL*/);e=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildTagLink(c("nullthrows")(a.hashtagName)))};break;case"GraphTappableLocation":b=i._(/*FBT_CALL*/"See Location"/*FBT_CALL*/);e=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildLocationLink({slug:"",id:c("nullthrows")(a.locationId)}))};break;case"GraphTappableMention":b=a.mentionFullname!=null&&a.mentionFullname!==""?a.mentionFullname:a.mentionUsername;e=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(a.mentionUsername)))};break;case"TappableLink":b=i._(/*FBT_CALL*/"Visit link"/*FBT_CALL*/);c("Polarisods").incr("web.stories.link_sticker.view");e=function(){c("Polarisods").incr("web.stories.link_sticker.clicks"),d("PolarisNavigationUtils").openExternalURL(d("PolarisLinkBuilder").buildWebLink(c("nullthrows")(a.url)))};break;case"GraphTappableFeedMedia":b=i._(/*FBT_CALL*/"See Post"/*FBT_CALL*/);e=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildMediaLink(c("nullthrows")(a.feedPostShortcode)))};break;case"GraphTappableGuide":b=d("PolarisGuideStrings").VIEW_GUIDE_STORY_CTA,e=function(){d("PolarisGuideLogger").logGuideEntry({entryPoint:"story",guideID:c("nullthrows")(a.guideId)}),c("gkx")("3711")||d("PolarisLogger").logAction_DEPRECATED("guideStoryClick"),c("Polarisods").incr("web.guide.story.click"),d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildGuideLink(c("nullthrows")(a.guideOwnerUsername),c("nullthrows")(a.guideTitle),c("nullthrows")(a.guideId)))}}e===null&&(e=function(){c("Polarisunexpected")("Tappable object type should be hashtag, location, or mention")});return{content:b,onClick:function(a){a.stopPropagation(),e(),f&&f(a)}}};e.render=function(){var a=this.props.tappedObject,b=c("nullthrows")(a.x)*100,d=c("nullthrows")(a.y)*100;b={left:b+"%",top:d+"%"};d=this.getPopupObject(a);a=d.content;d=d.onClick;return j.jsxs("div",{className:"_ac5r",style:b,children:[j.jsxs("div",{className:"_ac5s",onClick:d,role:"dialog",children:[j.jsx("div",{className:"_ac5t",children:a}),j.jsx("div",{className:"_9znl"})]}),j.jsx("div",{className:"_ac5u"})]})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisTappableObjectStoryPollOptionBackground",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.optionProportion,c=a.optionValue;a=a.userChoice;c=c===a;return i.jsx("div",{className:"_ac3i"+(c?" _ac3j":""),style:a!=null?{flex:b}:null,children:i.jsx("div",{className:"_ac3k"+(c?" _ac3l":"")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisTappableObjectStoryPollOptionText",["cx","PolarisEmojiHelper","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a,b){return i.jsx("span",{className:"_ac46",children:a},a+"-"+b)}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.fontSize,c=a.height,e=a.label,f=a.onOptionSelected,g=a.optionProportion,h=a.optionValue,k=a.userChoice;a=a.width;e=e;var l=Math.round(g*100)+"%";k!=null&&g===0?(e="",l=""):k==null&&(l="");var m=c/(-.1022*b+5.675);return i.jsxs("div",{className:"_ac42",onClick:function(){f(h)},role:"button",style:{flex:k!=null?g:1,marginTop:c*(.00414*b-.027)+"px",minWidth:(g!==0?25:0)+"%",pointerEvents:k!=null?"none":"auto"},tabIndex:"0",children:[i.jsx("div",{className:"_ac43"+(h===0?" _ac44":"")+(h!==0?" _ac45":""),style:{maxWidth:a/2,fontSize:k!=null?m*.55:m},children:d("PolarisEmojiHelper").splitStrWithEmoji(e,j)}),i.jsx("div",{className:"_ac47"+(k!=null?" _ac48":""),style:k!=null?{fontSize:c/3+"px",top:"-"+c/8+"px"}:null,children:l})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisTappableObjectStoryPoll",["cx","JSResourceForInteraction","PolarisStoryActions","PolarisTappableObjectStoryPollOptionBackground","PolarisTappableObjectStoryPollOptionText","Polarisprefix","nullthrows","react","react-redux-wwwig","xigRequireInterop"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useState;c("JSResourceForInteraction")("PolarisAvenyFont").__setRef("PolarisTappableObjectStoryPoll").load().then(function(a){return c("xigRequireInterop")(a)});function a(a){var b=a.height,e=a.object,f=a.rotation;a=a.width;var g=e.pollViewerVote;g===null&&e.pollViewerCanInteract===!1&&(g=0);g=k(g);var h=g[0],l=g[1],m=d("react-redux-wwwig").useDispatch();g=h===0;var n=h===1,o=j(function(a){var b=e.pollId;if(h!=null||b==null||b==="")return;m(d("PolarisStoryActions").voteOnStoryPoll(b,a));l(a)},[m,e,h]),p=e.pollTallies;g=c("nullthrows")(p)[0].count+(e.pollViewerVote===null&&g&&1);p=c("nullthrows")(p)[1].count+(e.pollViewerVote===null&&n&&1);n=g+p;g=g/n;p=p/n;return i.jsxs("div",{className:"_ac54",style:c("Polarisprefix")({transform:"rotate("+f+"rad)"}),children:[i.jsxs("div",{className:"_ac55",children:[i.jsx(c("PolarisTappableObjectStoryPollOptionText"),{fontSize:c("nullthrows")(e.pollOptionAFontSize),height:b,label:c("nullthrows")(e.pollOptionA),onOptionSelected:o,optionProportion:g,optionValue:0,userChoice:h,width:a}),i.jsx(c("PolarisTappableObjectStoryPollOptionText"),{fontSize:c("nullthrows")(e.pollOptionBFontSize),height:b,label:c("nullthrows")(e.pollOptionB),onOptionSelected:o,optionProportion:p,optionValue:1,userChoice:h,width:a})]}),i.jsx(c("PolarisTappableObjectStoryPollOptionBackground"),{optionProportion:g,optionValue:0,userChoice:h}),i.jsx("div",{className:"_ac56"}),i.jsx(c("PolarisTappableObjectStoryPollOptionBackground"),{optionProportion:p,optionValue:1,userChoice:h})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisTappableObjectContainer",["cx","PolarisLogger","PolarisTappableObjectStoryPoll","Polarisods","Polarisprefix","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(a){a.stopPropagation(),e.props.object.type==="GraphTappableFallback"?(c("gkx")("4841")||d("PolarisLogger").logAction_DEPRECATED("storiesStickerUnsupportedClick",{stickerType:e.props.object.fallbackType,appsellShown:!0}),c("Polarisods").incr("web.stories.stories_sticker_unsupported_click"),e.props.onTappableClick(e.props.id)):e.props.onTappableClick(e.props.id)},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidMount=function(){this.props.object.type==="GraphTappableFallback"&&(c("gkx")("4841")||d("PolarisLogger").logAction_DEPRECATED("storiesStickerUnsupportedRendered",{stickerType:this.props.object.fallbackType}),c("Polarisods").incr("web.stories.stories_sticker_unsupported_rendered"))};e.$2=function(a,b,d){var e=this.props.object;switch(e.type){case"GraphTappableStoryPoll":return i.jsx(c("PolarisTappableObjectStoryPoll"),{height:d,object:e,rotation:a,width:b});default:return null}};e.render=function(){var a=this.props,b=a.mediaLayout;a=a.object;var d=a.width*b.layoutWidth,e=a.height*b.layoutHeight,f=.5*d,g=.5*e;f=a.x*b.layoutWidth-f;b=a.y*b.layoutHeight-g;g=a.rotation*Math.PI*2;a={left:f+"px",top:b+"px",width:d+"px",height:e+"px"};return i.jsxs("div",{className:"_abwz",style:a,children:[i.jsx("div",{className:"_abw-"+(this.props.isEnabled?" _abw_":""),onClick:this.$1,role:"button",style:c("Polarisprefix")({transform:"rotate("+g+"rad)"}),tabIndex:"0"}),this.$2(g,d,e)]})};return b}(i.Component);g["default"]=a}),98);
__d("PolarisStoryTappableObjects",["cx","fbt","PolarisIGBloksApp","PolarisIGBloksAsyncAppLauncher","PolarisStoriesAppInstallDialog","PolarisStoriesContext","PolarisStoryActionTypes","PolarisStoryActions","PolarisStoryTappablePopup","PolarisTappableObjectContainer","PolarisstorySelectors","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this,b)||this;d.state={tappedObjectTimestamp:Date.now()};d.tappableObjectById={};d.$1=function(a){d.setState({tappedObjectTimestamp:Date.now()}),d.props.onTappableClick(a)};d.$2=function(){d.props.onTappableCancel()};d.$3=function(){return Object.keys(d.tappableObjectById).map(function(a){var b=d.tappableObjectById[a];return j.jsx(c("PolarisTappableObjectContainer"),{id:a,isEnabled:d.props.isPlaying||!!d.props.tappedObjectId,mediaLayout:d.props.mediaLayout,object:b,onTappableClick:d.$1},a)})};d.$4=function(){if(d.props.tappedObjectId==null||d.props.tappedObjectId==="")return null;var a=d.tappableObjectById[d.props.tappedObjectId];if(a==null)return null;var b=d.props.tappedObjectId+"_"+c("nullthrows")(d.state.tappedObjectTimestamp);if(a.type==="GraphTappableFallback")return j.jsx(c("PolarisStoriesAppInstallDialog"),{fallbackType:a.fallbackType,onClose:d.$2});return a.type==="BloksTappable"||a.type==="BloksSticker"?null:j.jsx(c("PolarisStoryTappablePopup"),{tappedObject:a},b)};d.$5=function(){if(d.props.tappedObjectId==null||d.props.tappedObjectId===""||d.state.tappedObjectTimestamp==null)return null;var a=d.tappableObjectById[d.props.tappedObjectId];if(a==null)return null;var b=d.props.tappedObjectId+"_"+d.state.tappedObjectTimestamp;if(a.type!=="BloksTappable")return null;var e=a.bloks_app;return j.jsx(c("PolarisIGBloksAsyncAppLauncher"),{appId:e,onResumeStoryPlayback:d.$2,params:a.bloks_params},b)};d.$6=function(){if(d.props.tappedObjectId==null||d.props.tappedObjectId===""||d.state.tappedObjectTimestamp==null)return null;var a=d.tappableObjectById[d.props.tappedObjectId];if(a==null)return null;var b=d.props.tappedObjectId+"_"+d.state.tappedObjectTimestamp,e=a.bloks_app;if(a.type!=="BloksSticker"||e==null)return null;var f={top:a.y*100+"%",left:a.x*100+"%",zIndex:2};return j.jsx("div",{style:f,children:j.jsx(c("PolarisIGBloksApp"),{appId:e,fallback:j.jsx("div",{}),options:{cached:!0},params:a.bloks_params,props:a.bloks_props},b)})};d.props.tappableObjects.forEach(function(a,b){d.tappableObjectById[""+b]=babelHelpers["extends"]({},a)});return d}var d=b.prototype;d.render=function(){return j.jsxs("div",{"aria-label":i._(/*FBT_CALL*/"Cancel popup"/*FBT_CALL*/),className:"_ac57"+(this.props.tappedObjectId?" _ac58":""),onClick:this.$2,role:"button",style:this.context.mediaDimensions,tabIndex:"0",children:[this.$3(),this.$4(),this.$5(),this.$6()]})};return b}(j.Component);e.contextType=d("PolarisStoriesContext").StoriesContext;function a(a){return{tappableObjects:a.stories.tappableObjectsByPostId.get(c("nullthrows")(d("PolarisstorySelectors").getCurrentPostId(a))),tappedObjectId:a.stories.tappedObjectId}}function b(a){return{onTappableClick:function(b){a({type:d("PolarisStoryActionTypes").STORY_SET_TAPPED_OBJECT,tappedObjectId:b})},onTappableCancel:function(){a(d("PolarisStoryActions").resumeStorySession())}}}f=d("react-redux-wwwig").connect(a,b)(e);g["default"]=f}),98);
__d("PolarisStoryViewerButton",["cx","fbt","PolarisConsumerBigNumber","PolarisFacepile","PolarisIGCoreBox","PolarisIGCoreButton","PolarisstorySelectors","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=3;function a(a){a=a.onStoryViewerListOpen;var b=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPost);if(b==null)return null;var e=b.storyViewCount;b=b.storyViewers;b=b?b.slice(0,k).map(function(a){return a.user.id}):[];if(e==null||e<=0||b==null)return null;e=Math.floor(e);return j.jsx("div",{className:"_ac5m",children:j.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:a,children:b!=null?j.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"column",children:[j.jsx(c("PolarisIGCoreBox"),{marginBottom:1,children:j.jsx(c("PolarisFacepile"),{border:"transparent",overlapDirection:"left",userIds:b})}),j.jsx("span",{className:"_ac5n",children:i._(/*FBT_CALL*/"Seen by {count}"/*FBT_CALL*/,[i._param("count",j.jsx(c("PolarisConsumerBigNumber"),{value:e}))])})]}):j.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",children:[j.jsx(c("PolarisIGCoreBox"),{marginEnd:2,children:j.jsx("span",{className:"_ac5o _9_4d"})}),j.jsx("span",{className:"_ac5p",children:j.jsx(c("PolarisConsumerBigNumber"),{value:e})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryViewerSliderSummary.react",["fbt","PolarisIGCoreBox","PolarisIGCoreText","PolarisStoryViewerSlider.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b,d;a=a.storySlider;b=(b=a==null?void 0:a.emoji)!=null?b:"";d=(d=a==null?void 0:a.slider_vote_average)!=null?d:0;a=(a=a==null?void 0:a.slider_vote_count)!=null?a:0;return i.jsxs("div",{className:"rlyo3lsx fh8g9ejz l71b3m5v bgow0mvr qp0itkpa sspdcydq r5gr4kag",children:[i.jsx(c("PolarisIGCoreBox"),{paddingX:12,paddingY:4,children:i.jsx(c("PolarisStoryViewerSlider.react"),{emoji:b,showFloatingEmoji:!0,value:d})}),i.jsx(c("PolarisIGCoreText").Body,{color:"ig-secondary-text",children:h._(/*FBT_CALL*/{"*":"{storySliderVoteCount} people answered. This is the average answer.","_1":"1 person answered. This is the average answer."}/*FBT_CALL*/,[h._plural(a,"storySliderVoteCount",a)])})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryViewerList",["fbt","PolarisIGCoreBox","PolarisIGCoreSheetOrModal","PolarisIGCoreText","PolarisStoryActions","PolarisStorySliderUserList.react","PolarisStoryViewerSliderSummary.react","PolarisUA","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=48,k=44;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){return!d.props.isLoading&&d.props.canLoadMoreViewers},d.$2=function(a){if(d.$1()&&a.numScreensFromEnd===0&&a.numScreensFromStart>0){a=d.props;var b=a.currentPost;a=a.onLoadStoryViewers;a(b.id)}},d.$3=function(){var a=d.props,b=a.currentPost;a=a.onLoadStorySliderVoters;a(b.id,(a=(a=b.storySliderVoterInfos)==null?void 0:(b=a[0])==null?void 0:b.slider_id)!=null?a:"")},d.$4=function(a){var b,e,f=d.props,g=f.avatarSize,l=f.hideStoryRings,m=f.initialRenderCount;f=f.storyViewers;a=a-k;b=(b=(b=d.props.currentPost.storySliders)==null?void 0:b[0].slider_sticker)!=null?b:null;e=(e=(e=d.props.currentPost.storySliderVoterInfos)==null?void 0:(e=e[0])==null?void 0:e.voters)!=null?e:null;var n=e!=null?c("qex")._("378")?e.length:0:0;return f.length===0?i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",height:a,justifyContent:"center",children:i.jsx(c("PolarisIGCoreText").Body,{color:"ig-secondary-text",children:h._(/*FBT_CALL*/"No one has seen this yet."/*FBT_CALL*/)})}):i.jsx(c("PolarisStorySliderUserList.react"),{avatarSize:g,containerSize:d.props.isLoading?a-j:a,currentPost:d.props.currentPost,entryPoint:"story_viewer_list",hideStoryRings:l,initialRenderCount:m,isLoading:d.props.isLoading,likers:new Set(f.filter(function(a){return a.hasLiked}).map(function(a){return a.user.id})),moreSliderVotersButton:(l=(g=d.props.currentPost.storySliderVoterInfos)==null?void 0:(a=g[0])==null?void 0:a.more_available)!=null?l:!1,onLoadStorySliderVoters:d.$3,onScroll:d.$2,storySliderVoterCount:n,storySliderVoters:(m=e==null?void 0:e.map(function(a){var b;return{vote:(b=a.vote)!=null?b:0,id:(b=a.user)!=null?b:"",ts:(b=a.ts)!=null?b:0}}))!=null?m:[],topComponent:b!=null&&c("qex")._("378")&&i.jsx(c("PolarisStoryViewerSliderSummary.react"),{storySlider:b}),userIds:f.map(function(a){return a.user.id})})},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.componentDidMount=function(){var a=this.props,b=a.currentPost;a=a.onLoadStoryViewers;this.$1()&&a(b.id)};e.render=function(){var a=this.props.onClose;return i.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:a,stops:["50%","100%"],title:h._(/*FBT_CALL*/"Viewers"/*FBT_CALL*/),children:d("PolarisUA").isMobile()?this.$4:this.$4(d("PolarisIGCoreSheetOrModal").DEFAULT_CONTAINER_MAX_HEIGHT)})};return b}(i.Component);a.defaultProps={avatarSize:"small",initialRenderCount:d("PolarisStoryActions").STORY_VIEWERS_FETCH_COUNT_DEFAULT,hideStoryRings:!0};b=a;g["default"]=b}),98);
__d("PolarisStoryViewerToast",["PolarisIGCoreToast","PolarisStyleConstants","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("PolarisStyleConstants")["toast-anim-duration"].value*1e3;a=function(a){var b=a.message;a=a.onClose;return b===""?null:h.jsx(c("PolarisIGCoreToast"),{duration:i,onClose:a,children:b})};b=a;g["default"]=b}),98);
__d("PolarisFullscreenShell",["cx","PolarisBaseShell","PolarisHideNativeAppBanner","PolarisToastWrapper","RouteLoadingBar","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){d("PolarisHideNativeAppBanner").hideNativeAppBanner_HACK()};e.componentDidUpdate=function(a){a.deviceOrientation!=null&&a.deviceOrientation!==this.props.deviceOrientation&&d("PolarisHideNativeAppBanner").hideNativeAppBanner_HACK()};e.render=function(){var a=this.props,b=a.children,d=a.className;a=a.style;return i.jsxs(c("PolarisBaseShell"),{className:c("joinClasses")("_ac6a",d),style:a,children:[b,i.jsx(c("RouteLoadingBar"),{}),i.jsx(c("PolarisToastWrapper"),{})]})};return b}(i.Component);g["default"]=a}),98);
__d("PolarisLocationAvatar",["cx","fbt","FastLink","PolarisIGCoreLocationPanoOutlineIcon","PolarisLinkBuilder","PolarisUA","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.className,e=a.isLink;e=e===void 0?!0:e;var f=a.locationId,g=a.profilePictureUrl;a=a.size;a=a===void 0?30:a;a={width:a,height:a};var h=g!=null;h=h?j.jsx("img",{alt:"",className:"_abwx",src:g}):j.jsx("div",{className:"_abwy",children:j.jsx(c("PolarisIGCoreLocationPanoOutlineIcon"),{alt:i._(/*FBT_CALL*/"Location icon."/*FBT_CALL*/),color:"ig-secondary-text",size:d("PolarisUA").isMobile()?32:44})});return j.jsx("div",{className:c("joinClasses")("_abwv",b),style:a,children:e?j.jsx(c("FastLink"),{className:"_aa8k",href:d("PolarisLinkBuilder").buildLocationLink({id:f,slug:""}),style_DEPRECATED:a,children:h}):j.jsx(j.Fragment,{children:h})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);