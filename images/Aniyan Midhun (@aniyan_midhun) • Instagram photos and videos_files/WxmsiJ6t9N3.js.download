if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("PolarisAudioProgressBar",["cx","PolarisIGCoreBox","PolarisIGCoreText","PolarisuseEventListener","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useRef,l=b.useState;function a(a){var b=a.audio,d=a.isDisabled,e=a.onAudioEnded,f=k(null),g=k(!1),h=k(0);a=l("0:00");var m=a[0],n=a[1];a=l("0%");var o=a[0],p=a[1],q=function(a){if(a.type==="mousedown"||a.type==="mousemove"||a.type==="mouseup")return a.clientX;else if(a.type==="touchstart"||a.type==="touchmove")return a.touches[0].clientX;return 0},r=j(function(a){if(b==null)return;var c=Math.floor(a/60),d=Math.floor(a%60);d=d>9?d.toString():"0"+d;n(c+":"+d);p((a/b.duration*100).toFixed(2)+"%")},[b]),s=function(a){if(b==null)return 0;var c=f.current;if(!c)return 0;c=c.getBoundingClientRect();var d=c.width;a=q(a)-c.left;a<0?a=0:a>d&&(a=d);return a/d*b.duration};a=function(a){if(b==null)return;a.stopPropagation();g.current=!0;var c=s(a);r(c);h.current=c;a.type==="mousedown"?(window.addEventListener("mousemove",t),window.addEventListener("mouseup",u)):a.type==="touchstart"&&(window.addEventListener("touchmove",t,{passive:!1}),window.addEventListener("touchend",u))};var t=function(a){if(b==null)return;a.cancelable&&a.preventDefault();a.stopPropagation();if(g.current===!0){a=s(a);r(a);h.current=a}},u=function a(c){if(b==null)return;g.current=!1;b.currentTime=h.current;c.type==="mouseup"?(window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",a)):c.type==="touchend"&&(window.removeEventListener("touchmove",t),window.removeEventListener("touchend",a))},v=function(a){b&&g.current===!1&&r(b.currentTime)},w=function(){b&&g.current===!1&&(e(),b.currentTime=0)};c("PolarisuseEventListener")(b,"timeupdate",v);c("PolarisuseEventListener")(b,"ended",w);return i.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",flex:"grow",children:[i.jsx(c("PolarisIGCoreBox"),{flex:"grow",paddingX:5,children:i.jsxs("div",{className:"_aa9u"+(d?" _aa9v":""),onMouseDown:d?void 0:a,onTouchStart:d?void 0:a,ref:f,role:"progressbar",tabIndex:0,children:[i.jsx("div",{className:"_aa9w",style:{width:o}}),i.jsx("div",{className:"_aa9x"+(d?" _aa9y":""),style:{left:o}})]})}),i.jsx(c("PolarisIGCoreBox"),{width:36,children:i.jsx(c("PolarisIGCoreText"),{color:d?"ig-secondary-text":"ig-primary-text",size:"footnote",textAlign:"left",children:m})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisAudioPlayer",["PolarisAudioProgressBar","PolarisClipsActions","PolarisGenericStrings","PolarisIGCoreBox","PolarisIGCorePlayPanoFilledIcon","PolarisIGCoreSVGIconButton","PolarisIGCoreWebPauseFilledIcon","PolarisclipsSelectors","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=a.isDisabled;a=a.src;var e=j(null),f=k(!1);f[0];var g=f[1],l=d("react-redux-wwwig").useDispatch(),m=d("react-redux-wwwig").useSelector(function(a){return d("PolarisclipsSelectors").getIsAudioPlayerPlaying(a)});i(function(){var a=e.current;a&&!a.paused&&m===!1&&a.pause()},[m]);f=b?"ig-secondary-text":"ig-primary-text";var n=function(a){a.stopPropagation();a=e.current;a&&(a.paused&&a.src?(a.play(),l(d("PolarisClipsActions").updateAudioPageAudioPlayerIsPlaying(!0))):a.paused||(a.pause(),l(d("PolarisClipsActions").updateAudioPageAudioPlayerIsPlaying(!1))))};i(function(){g(e.current!=null)},[e]);return h.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",flex:"grow",children:[h.jsx("audio",{autoPlay:!1,controls:!1,ref:e,src:a}),h.jsx(c("PolarisIGCoreSVGIconButton"),{isDisabled:b,onClick:b?function(){}:n,padding:0,children:m?h.jsx(c("PolarisIGCoreWebPauseFilledIcon"),{alt:d("PolarisGenericStrings").ASSISTIVE_TEXT_PAUSE_BUTTON,color:f,size:12}):h.jsx(c("PolarisIGCorePlayPanoFilledIcon"),{alt:d("PolarisGenericStrings").ASSISTIVE_TEXT_PLAY_BUTTON,color:f,size:12})}),h.jsx(c("PolarisAudioProgressBar"),{audio:e.current,isDisabled:b,onAudioEnded:function(){l(d("PolarisClipsActions").updateAudioPageAudioPlayerIsPlaying(!1))}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsAudioPageInfo",["cx","fbt","PolarisAudioPlayer","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreText","PolarisPhoto","PolarisUserLink","PolarisclipsSelectors","qex","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b,e,f,g=a.audioID,h=a.formattedMediaCount,k=a.metadata,l=a.isBookmarked,m=a.bookmarkAudio;a=a.unbookmarkAudio;b=(k==null?void 0:(b=k.music_info)==null?void 0:(b=b.music_asset_info)==null?void 0:b.cover_artwork_uri)||(k==null?void 0:(b=k.original_sound_info)==null?void 0:(b=b.ig_artist)==null?void 0:b.profile_pic_url);e=(k==null?void 0:(e=k.music_info)==null?void 0:(e=e.music_consumption_info)==null?void 0:(e=e.ig_artist)==null?void 0:e.username)||(k==null?void 0:(e=k.original_sound_info)==null?void 0:(e=e.ig_artist)==null?void 0:e.username);k=(k==null?void 0:(f=k.music_info)==null?void 0:(f=f.music_asset_info)==null?void 0:f.web_30s_preview_download_url)||(k==null?void 0:(f=k.music_info)==null?void 0:(f=f.music_asset_info)==null?void 0:f.progressive_download_url)||(k==null?void 0:(f=k.original_sound_info)==null?void 0:f.progressive_download_url);f=d("react-redux-wwwig").useSelector(function(a){return d("PolarisclipsSelectors").getIsNarrowScreen(a)});var n=d("react-redux-wwwig").useSelector(d("PolarisclipsSelectors").getSongName(g));g=d("react-redux-wwwig").useSelector(d("PolarisclipsSelectors").getSongArtistDisplayName(g));if(b==null||n==null||e==null&&g==null)return null;b=j.jsx("div",{className:"_aa1f",children:j.jsx(c("PolarisPhoto"),{accessibilityCaption:i._(/*FBT_CALL*/"Audio image"/*FBT_CALL*/),setCrossOriginToUndefinedDONOTUSE:!0,src:b})});k=j.jsx(c("PolarisAudioPlayer"),{isDisabled:k==null,src:k});l=l?j.jsx(c("PolarisIGCoreButton"),{color:"ig-secondary-button",onClick:a,children:i._(/*FBT_CALL*/"Saved"/*FBT_CALL*/)}):j.jsx(c("PolarisIGCoreButton"),{color:"ig-secondary-button",onClick:m,children:i._(/*FBT_CALL*/"Save audio"/*FBT_CALL*/)});return j.jsxs(c("PolarisIGCoreBox"),{direction:"column",marginBottom:f?0:8,padding:f?4:0,width:"100%",children:[j.jsxs(c("PolarisIGCoreBox"),{direction:"row",children:[b,j.jsxs(c("PolarisIGCoreBox"),{alignItems:"start",direction:"column",marginStart:f?4:9,marginTop:1,children:[j.jsx(c("PolarisIGCoreBox"),{alignItems:"center",children:j.jsx(c("PolarisIGCoreText"),{size:f?"label":"title",weight:f?"semibold":"normal",children:n})}),j.jsx(c("PolarisIGCoreBox"),{marginTop:f?4:6,children:j.jsxs(c("PolarisIGCoreText"),{size:f?"body":"label",weight:"semibold",children:[e!=null&&j.jsx(c("PolarisUserLink"),{color:"ig-primary-text",username:e}),e==null&&g]})}),j.jsx(c("PolarisIGCoreBox"),{marginTop:5,children:j.jsx(c("PolarisIGCoreText"),{size:f?"footnote":"label",weight:"light",children:h})}),!f&&j.jsxs(c("PolarisIGCoreBox"),{maxWidth:"100%",minWidth:"50%",width:360,children:[c("qex")._("238")&&j.jsx(c("PolarisIGCoreBox"),{marginTop:5,children:l}),j.jsx(c("PolarisIGCoreBox"),{marginTop:8,children:k})]})]})]}),f&&j.jsxs(c("PolarisIGCoreBox"),{width:"100%",children:[c("qex")._("238")&&j.jsx(c("PolarisIGCoreBox"),{marginTop:4,children:l}),j.jsx(c("PolarisIGCoreBox"),{marginTop:4,children:k})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsAudioPage",["cx","fbt","PolarisAsyncEntityQRModal","PolarisClipsActions","PolarisClipsAudioPageInfo","PolarisClipsGrid","PolarisClipsLogger","PolarisConfig","PolarisExternalLink","PolarisGenericMobileHeader","PolarisHttpErrorPage","PolarisIGCoreBox","PolarisIGCoreText","PolarisPageIdentifierConstants","PolarisPageMetadata","PolarisShell","PolarisUA","PolarisclipsSelectors","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState,l=i._(/*FBT_CALL*/"Audio"/*FBT_CALL*/);function a(a){var b,e=a.audioID;a=a.showQRModal;var g=d("react-redux-wwwig").useDispatch();a=k(a);var h=a[0],i=a[1];a=d("react-redux-wwwig").useSelector(function(a){return d("PolarisclipsSelectors").getClipsInfoFromAudioId(a,e)});var m=a.clips,n=a.formattedMediaCount,o=a.isMusicPageRestricted,p=a.metadata,q=a.musicPageRestrictedContext,r=a.pagingInfo,s=a.shouldDisableFetching;a=a.isBookmarked;var t=d("react-redux-wwwig").useSelector(function(a){return d("PolarisclipsSelectors").getIsAudioPlayerPlaying(a)}),u=d("react-redux-wwwig").useSelector(function(a){return d("PolarisclipsSelectors").getIsNarrowScreen(a)}),v=function(a){g(d("PolarisClipsActions").fetchClipsForAudioPage(e,r==null?void 0:r.cursor))},w=function(){g(d("PolarisClipsActions").bookmarkAudio(e))},x=function(){g(d("PolarisClipsActions").unbookmarkAudio(e))},y=function(a){t&&g(d("PolarisClipsActions").updateAudioPageAudioPlayerIsPlaying(!1)),d("PolarisClipsLogger").logClipsAudioPageMediaOpen({mediaID:a,pageID:e,userID:d("PolarisConfig").getViewerId()})},z=(r==null?void 0:r.isFetching)===!1&&(p==null?void 0:p.music_info)==null&&(p==null?void 0:p.original_sound_info)==null;b=(p==null?void 0:(b=p.music_info)==null?void 0:(b=b.music_consumption_info)==null?void 0:b.should_mute_audio)===!0||(p==null?void 0:(b=p.original_sound_info)==null?void 0:b.should_mute_audio)===!0;z=z||b;function A(){return j.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",height:"90%",justifyContent:"center",children:[(q==null?void 0:q.text)!=null&&j.jsx(c("PolarisIGCoreText"),{textAlign:"center",children:q.text}),(q==null?void 0:q.link)!=null&&(q==null?void 0:q.link_text)!=null&&j.jsx(c("PolarisIGCoreBox"),{marginTop:6,children:j.jsx(c("PolarisExternalLink"),{href:q.link,children:j.jsx(c("PolarisIGCoreText"),{weight:"semibold",children:q.link_text})})})]})}A.displayName=A.name+" [from "+f.id+"]";b=j.jsxs("div",{children:[n!=null&&p!=null&&a!=null&&j.jsx(c("PolarisClipsAudioPageInfo"),{audioID:e,bookmarkAudio:w,formattedMediaCount:n,isBookmarked:a,metadata:p,unbookmarkAudio:x}),j.jsx(c("PolarisClipsGrid"),{analyticsContext:c("PolarisPageIdentifierConstants").ClipsAudioPage,clips:m,fetchClips:v,hasNextPage:r==null?void 0:r.moreAvailable,isFetching:r==null?void 0:r.isFetching,onModalOpen:y,shouldDisableFetching:s})]});return z?j.jsx(c("PolarisHttpErrorPage"),{}):j.jsxs(c("PolarisShell"),{mobileHeader:j.jsx(c("PolarisGenericMobileHeader"),{title:l}),pageIdentifier:c("PolarisPageIdentifierConstants").ClipsAudioPage,children:[j.jsx(c("PolarisPageMetadata"),{id:c("PolarisPageIdentifierConstants").ClipsAudioPage,title:l}),j.jsx("div",{className:"_aa0_",children:j.jsxs(c("PolarisIGCoreBox"),{direction:"column",height:"100%",width:"100%",children:[!d("PolarisUA").isMobile()&&p!=null&&j.jsx(c("PolarisIGCoreBox"),{marginBottom:u?3:7,marginTop:u?4:0,paddingX:u?4:0,children:j.jsx(c("PolarisIGCoreText").Headline2,{children:l})}),o===!0?j.jsx(A,{}):b]})}),h&&j.jsx(c("PolarisAsyncEntityQRModal"),{entityID:e,onClose:function(){return i(!1)},source:"DIRECT_NAVIGATION"})]})}a.displayName=a.name+" [from "+f.id+"]";g.PAGE_ID=c("PolarisPageIdentifierConstants").ClipsAudioPage;g.PAGE_TITLE=l;g.ClipsAudioPage=a}),98);
__d("PolarisAccountRecoveryLandingRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisAccountRecoveryLandingRoot.react").__setRef("PolarisAccountRecoveryLandingRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisClipsAudioRoot.react",["PolarisClipsAudioPage","XIGSupportIGGlobalDefaultsDeprecated.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.props;var b=a.routeParams.audio_id;a=a.routeProps.show_qr_modal;return h.jsx(c("XIGSupportIGGlobalDefaultsDeprecated.react"),{children:h.jsx(d("PolarisClipsAudioPage").ClipsAudioPage,{audioID:b,showQRModal:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);